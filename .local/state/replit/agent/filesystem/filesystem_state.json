{"file_contents":{"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport axios from \"axios\";\nimport { storage } from \"./storage\";\nimport { insertBookmarkSchema } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\nconst ALQURAN_CLOUD_API = \"http://api.alquran.cloud/v1\";\nconst QURAN_TAFSEER_API = \"http://api.quran-tafseer.com\";\n\n// Simple in-memory cache\nconst cache = new Map<string, { data: any; timestamp: number }>();\nconst CACHE_DURATION = 1000 * 60 * 60; // 1 hour\n\nfunction getFromCache(key: string) {\n  const cached = cache.get(key);\n  if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n    return cached.data;\n  }\n  return null;\n}\n\nfunction setCache(key: string, data: any) {\n  cache.set(key, { data, timestamp: Date.now() });\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  \n  // Get all Surahs (chapters)\n  app.get(\"/api/surahs\", async (req, res) => {\n    try {\n      const cacheKey = \"surahs\";\n      const cached = getFromCache(cacheKey);\n      if (cached) {\n        return res.json(cached);\n      }\n\n      const response = await axios.get(`${ALQURAN_CLOUD_API}/surah`);\n      \n      if (response.data.code === 200 && response.data.data) {\n        const surahs = response.data.data.map((surah: any) => ({\n          number: surah.number,\n          name: surah.name,\n          englishName: surah.englishName,\n          englishNameTranslation: surah.englishNameTranslation,\n          numberOfAyahs: surah.numberOfAyahs,\n          revelationType: surah.revelationType,\n        }));\n        \n        setCache(cacheKey, surahs);\n        res.json(surahs);\n      } else {\n        res.status(500).json({ error: \"Failed to fetch surahs\" });\n      }\n    } catch (error) {\n      console.error(\"Error fetching surahs:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Get Surah with verses, translations, and audio\n  app.get(\"/api/surah/:surahNumber/:reciterEdition\", async (req, res) => {\n    try {\n      const { surahNumber, reciterEdition } = req.params;\n      \n      // Validate surah number\n      const surahNum = parseInt(surahNumber);\n      if (isNaN(surahNum) || surahNum < 1 || surahNum > 114) {\n        return res.status(400).json({ error: \"Invalid surah number. Must be between 1 and 114\" });\n      }\n\n      const cacheKey = `surah-${surahNumber}-${reciterEdition}`;\n      const cached = getFromCache(cacheKey);\n      if (cached) {\n        return res.json(cached);\n      }\n\n      // Fetch Arabic text, audio, and translations in one request\n      const editions = `quran-uthmani,${reciterEdition},ur.jalandhry,en.sahih`;\n      const response = await axios.get(\n        `${ALQURAN_CLOUD_API}/surah/${surahNumber}/editions/${editions}`,\n        { timeout: 15000 }\n      );\n\n      if (response.data.code === 200 && response.data.data) {\n        const [arabicData, audioData, urduData, englishData] = response.data.data;\n\n        const verses = arabicData.ayahs.map((ayah: any, index: number) => ({\n          ayah: {\n            number: ayah.number,\n            numberInSurah: ayah.numberInSurah,\n            text: ayah.text,\n            audio: audioData.ayahs[index]?.audio || \"\",\n            surah: {\n              number: arabicData.number,\n              name: arabicData.name,\n              englishName: arabicData.englishName,\n            },\n          },\n          urduTranslation: {\n            text: urduData.ayahs[index]?.text || \"\",\n            language: \"Urdu\",\n            translator: \"Fateh Muhammad Jalandhry\",\n          },\n          englishTranslation: {\n            text: englishData.ayahs[index]?.text || \"\",\n            language: \"English\",\n            translator: \"Sahih International\",\n          },\n        }));\n\n        setCache(cacheKey, verses);\n        res.json(verses);\n      } else {\n        res.status(500).json({ error: \"Failed to fetch surah data\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching surah:\", error.message);\n      if (error.response?.status === 404) {\n        res.status(404).json({ error: \"Surah not found\" });\n      } else if (error.code === 'ECONNABORTED') {\n        res.status(504).json({ error: \"Request timeout - please try again\" });\n      } else {\n        res.status(500).json({ error: \"Failed to load surah. Please try again.\" });\n      }\n    }\n  });\n\n  // Get Tafseer for a specific verse\n  app.get(\"/api/tafseer/:surahNumber/:ayahNumber\", async (req, res) => {\n    try {\n      const { surahNumber, ayahNumber } = req.params;\n      \n      // Validate input\n      const surahNum = parseInt(surahNumber);\n      const ayahNum = parseInt(ayahNumber);\n      \n      if (isNaN(surahNum) || isNaN(ayahNum) || surahNum < 1 || surahNum > 114 || ayahNum < 1) {\n        return res.status(400).json({ error: \"Invalid surah or ayah number\" });\n      }\n\n      const tafseerID = 1; // Al-Tafsir Al-Muyassar (simple tafseer)\n      const cacheKey = `tafseer-${surahNumber}-${ayahNumber}`;\n      const cached = getFromCache(cacheKey);\n      if (cached) {\n        return res.json(cached);\n      }\n\n      const response = await axios.get(\n        `${QURAN_TAFSEER_API}/tafseer/${tafseerID}/${surahNumber}/${ayahNumber}`,\n        { timeout: 10000 }\n      );\n\n      if (response.data && response.data.text) {\n        const tafseer = {\n          ayahNumber: ayahNum,\n          text: response.data.text,\n          tafseerName: \"التفسير الميسر (Al-Tafsir Al-Muyassar)\",\n          language: \"Arabic\",\n        };\n        \n        setCache(cacheKey, tafseer);\n        res.json(tafseer);\n      } else {\n        res.status(404).json({ error: \"Tafseer not found for this verse\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching tafseer:\", error.message);\n      if (error.response?.status === 404) {\n        res.status(404).json({ error: \"Tafseer not available for this verse\" });\n      } else if (error.code === 'ECONNABORTED') {\n        res.status(504).json({ error: \"Request timeout - please try again\" });\n      } else {\n        res.status(500).json({ error: \"Failed to fetch tafseer\" });\n      }\n    }\n  });\n\n  // Get Hadiths from a collection\n  app.get(\"/api/hadiths/:collection\", async (req, res) => {\n    try {\n      const { collection } = req.params;\n      const { search, page = 1 } = req.query;\n\n      // Validate collection\n      const validCollections = ['bukhari', 'muslim', 'abudawud', 'tirmidhi', 'ibnmajah', 'nasai', 'malik'];\n      if (!validCollections.includes(collection)) {\n        return res.status(400).json({ \n          error: \"Invalid collection. Must be one of: bukhari, muslim, abudawud, tirmidhi, ibnmajah, nasai, malik\" \n        });\n      }\n\n      const pageNum = parseInt(page as string) || 1;\n      const pageSize = 20;\n      \n      const cacheKey = `hadiths-v2-${collection}-${pageNum}-${search || ''}`;\n      const cached = getFromCache(cacheKey);\n      if (cached) {\n        return res.json(cached);\n      }\n\n      // Use fawazahmed0 Hadith API (CDN-hosted, no auth required)\n      // https://github.com/fawazahmed0/hadith-api\n      const HADITH_CDN = 'https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1';\n      const editionName = `eng-${collection}`; // English editions\n      const url = `${HADITH_CDN}/editions/${editionName}.json`;\n      \n      const response = await axios.get(url, { timeout: 15000 });\n\n      if (response.data && response.data.hadiths) {\n        let allHadiths = response.data.hadiths;\n        \n        // Apply search filter if provided\n        if (search && typeof search === 'string') {\n          const searchLower = search.toLowerCase();\n          allHadiths = allHadiths.filter((h: any) => \n            h.text?.toLowerCase().includes(searchLower) ||\n            h.arabicnumber?.toString().includes(search) ||\n            h.hadithnumber?.toString().includes(search)\n          );\n        }\n\n        // Paginate results\n        const start = (pageNum - 1) * pageSize;\n        const end = start + pageSize;\n        const paginatedHadiths = allHadiths.slice(start, end);\n\n        const result = {\n          collection: collection,\n          hadiths: paginatedHadiths.map((h: any) => ({\n            number: h.hadithnumber || h.arabicnumber,\n            arabicText: '', // API doesn't provide Arabic in English edition\n            englishText: h.text || '',\n            hadithNumber: (h.hadithnumber || h.arabicnumber || '').toString(),\n            narrator: '',\n            book: collection,\n            collection: collection,\n            urduText: '', // Not available in English edition\n            reference: `${collection.charAt(0).toUpperCase() + collection.slice(1)} ${h.hadithnumber || h.arabicnumber || ''}`,\n            // Serialize grades: if array has objects, map to readable strings; if empty, undefined\n            grade: h.grades && h.grades.length > 0 \n              ? h.grades.map((g: any) => typeof g === 'object' ? `${g.name || ''}: ${g.grade || ''}`.trim() : String(g)).join(', ')\n              : undefined\n          })),\n          page: pageNum,\n          pageSize: pageSize,\n          hasMore: end < allHadiths.length,\n          total: allHadiths.length\n        };\n\n        // Cache for longer (data is static on CDN)\n        setCache(cacheKey, result);\n        res.json(result);\n      } else {\n        res.status(500).json({ error: \"Failed to fetch hadiths\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching hadiths:\", error.message);\n      if (error.response?.status === 404) {\n        res.status(404).json({ error: \"Hadith collection not found. Try: bukhari, muslim, abudawud, tirmidhi, ibnmajah\" });\n      } else if (error.code === 'ECONNABORTED') {\n        res.status(504).json({ error: \"Request timeout - please try again\" });\n      } else {\n        res.status(500).json({ error: \"Failed to load hadiths. Please try again.\" });\n      }\n    }\n  });\n\n  // ============================================================================\n  // User Session & Bookmarks API\n  // ============================================================================\n\n  // Get or create user by session ID\n  app.post(\"/api/user/session\", async (req, res) => {\n    try {\n      const { sessionId } = req.body;\n\n      if (!sessionId || typeof sessionId !== 'string' || sessionId.length === 0) {\n        return res.status(400).json({ error: \"Session ID is required\" });\n      }\n\n      // Try to find existing user\n      let user = await storage.getUserBySessionId(sessionId);\n\n      // Create new user if doesn't exist\n      if (!user) {\n        user = await storage.createUser({ sessionId });\n      }\n\n      res.json(user);\n    } catch (error: any) {\n      console.error(\"Error managing user session:\", error.message);\n      res.status(500).json({ error: \"Failed to manage user session\" });\n    }\n  });\n\n  // Get all bookmarks for a user\n  app.get(\"/api/bookmarks/:userId\", async (req, res) => {\n    try {\n      const userId = parseInt(req.params.userId);\n      \n      if (isNaN(userId)) {\n        return res.status(400).json({ error: \"Invalid user ID\" });\n      }\n\n      const bookmarks = await storage.getBookmarks(userId);\n      res.json(bookmarks);\n    } catch (error: any) {\n      console.error(\"Error fetching bookmarks:\", error.message);\n      res.status(500).json({ error: \"Failed to fetch bookmarks\" });\n    }\n  });\n\n  // Create a new bookmark\n  app.post(\"/api/bookmarks\", async (req, res) => {\n    try {\n      const parsed = insertBookmarkSchema.safeParse(req.body);\n      \n      if (!parsed.success) {\n        return res.status(400).json({ error: \"Invalid bookmark data\", details: parsed.error.errors });\n      }\n\n      const { userId, surahNumber, ayahNumber } = parsed.data;\n\n      // Check if bookmark already exists\n      const exists = await storage.checkBookmarkExists(userId, surahNumber, ayahNumber);\n      if (exists) {\n        return res.status(409).json({ error: \"Bookmark already exists\" });\n      }\n\n      const bookmark = await storage.createBookmark(parsed.data);\n      res.status(201).json(bookmark);\n    } catch (error: any) {\n      console.error(\"Error creating bookmark:\", error.message);\n      res.status(500).json({ error: \"Failed to create bookmark\" });\n    }\n  });\n\n  // Delete a bookmark\n  app.delete(\"/api/bookmarks/:bookmarkId/:userId\", async (req, res) => {\n    try {\n      const bookmarkId = parseInt(req.params.bookmarkId);\n      const userId = parseInt(req.params.userId);\n\n      if (isNaN(bookmarkId) || isNaN(userId)) {\n        return res.status(400).json({ error: \"Invalid bookmark ID or user ID\" });\n      }\n\n      await storage.deleteBookmark(bookmarkId, userId);\n      res.status(204).send();\n    } catch (error: any) {\n      console.error(\"Error deleting bookmark:\", error.message);\n      res.status(500).json({ error: \"Failed to delete bookmark\" });\n    }\n  });\n\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":12872},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/VerseDisplay.tsx":{"content":"import { Badge } from \"@/components/ui/badge\";\nimport { BookmarkIcon } from \"lucide-react\";\nimport { VerseWithTranslations } from \"@shared/schema\";\nimport { cn } from \"@/lib/utils\";\n\ninterface VerseDisplayProps {\n  verse: VerseWithTranslations;\n  isHighlighted?: boolean;\n  onVerseClick?: (verseNumber: number) => void;\n}\n\nexport function VerseDisplay({ verse, isHighlighted, onVerseClick }: VerseDisplayProps) {\n  const { ayah, urduTranslation, englishTranslation } = verse;\n\n  return (\n    <div\n      className={cn(\n        \"group relative mb-4 p-4 sm:p-6 border-l-2 transition-all hover-elevate\",\n        isHighlighted \n          ? \"border-l-primary bg-primary/5\" \n          : \"border-l-border\"\n      )}\n      data-testid={`verse-${ayah.numberInSurah}`}\n      onClick={() => onVerseClick?.(ayah.number)}\n    >\n      <div className=\"flex items-start justify-between gap-4 mb-3\">\n        <Badge \n          variant=\"outline\" \n          className=\"rounded-full h-7 w-7 flex items-center justify-center font-medium shrink-0 text-xs\"\n          data-testid={`badge-verse-number-${ayah.numberInSurah}`}\n        >\n          {ayah.numberInSurah}\n        </Badge>\n        <button\n          className=\"opacity-0 group-hover:opacity-100 transition-opacity p-2 rounded-full hover-elevate\"\n          data-testid={`button-bookmark-${ayah.numberInSurah}`}\n          aria-label=\"Bookmark verse\"\n        >\n          <BookmarkIcon className=\"w-4 h-4 text-muted-foreground\" />\n        </button>\n      </div>\n\n      <div className=\"space-y-3\">\n        <div \n          className=\"font-arabic text-2xl sm:text-3xl leading-loose text-right\" \n          dir=\"rtl\"\n          lang=\"ar\"\n          data-testid={`text-arabic-${ayah.numberInSurah}`}\n        >\n          {ayah.text}\n        </div>\n\n        {urduTranslation && (\n          <div className=\"pt-3 border-t border-border/50\">\n            <div className=\"flex items-center gap-2 mb-1.5\">\n              <span className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n                Urdu\n              </span>\n            </div>\n            <p \n              className=\"text-base leading-relaxed text-card-foreground\" \n              dir=\"rtl\"\n              data-testid={`text-urdu-${ayah.numberInSurah}`}\n            >\n              {urduTranslation.text}\n            </p>\n          </div>\n        )}\n\n        {englishTranslation && (\n          <div className=\"pt-3 border-t border-border/50\">\n            <div className=\"flex items-center gap-2 mb-1.5\">\n              <span className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n                English\n              </span>\n            </div>\n            <p \n              className=\"text-sm leading-relaxed text-card-foreground\"\n              data-testid={`text-english-${ayah.numberInSurah}`}\n            >\n              {englishTranslation.text}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":2951},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"design_guidelines.md":{"content":"# Quran Reading Application - Design Guidelines\n\n## Design Approach\n\n**System-Based Approach** with Islamic app best practices (inspired by Quran.com, Ayah app patterns)\n\nThis is a utility-focused reading and study application where clarity, readability, and accessibility are paramount. The design prioritizes content hierarchy, comfortable reading experience, and intuitive navigation over visual flourishes.\n\n## Design Principles\n\n1. **Sacred Content First**: Arabic text receives primary visual hierarchy\n2. **Reading Comfort**: Optimized for extended study sessions\n3. **Clarity Over Decoration**: Minimal distractions from the content\n4. **Respectful Aesthetics**: Clean, dignified presentation appropriate for religious texts\n\n## Typography System\n\n### Arabic Text (Quran)\n- **Font Family**: 'Amiri Quran' or 'Scheherazade New' via Google Fonts (traditional Arabic typography optimized for Quranic text)\n- **Primary Reading Size**: text-2xl to text-3xl (1.5rem to 1.875rem)\n- **Line Height**: leading-loose (2.0) for comfortable Arabic reading\n- **Direction**: RTL (right-to-left) for Arabic content\n- **Alignment**: text-right for Arabic, text-justify for optimal spacing\n\n### Translations & Secondary Text\n- **Font Family**: 'Inter' or 'Noto Sans' via Google Fonts\n- **Translation Text**: text-base to text-lg (1rem to 1.125rem)\n- **Labels & UI**: text-sm (0.875rem)\n- **Headings**: text-xl to text-2xl with font-semibold\n\n### Tafseer & Hadith\n- **Font Family**: Same as translations (Inter/Noto Sans)\n- **Body Text**: text-base with leading-relaxed\n- **Attribution**: text-sm with font-medium\n\n## Layout System\n\n**Spacing Primitives**: Tailwind units of 3, 4, 6, 8, 12, 16\n- Tight spacing: p-3, gap-3 (for compact UI elements)\n- Standard spacing: p-4, p-6, gap-4 (for content sections)\n- Generous spacing: p-8, p-12, py-16 (for main content areas)\n\n### 13-Line Mushaf Page Layout\n- **Container**: max-w-4xl mx-auto (centered reading experience)\n- **Page Padding**: px-6 py-8 on mobile, px-12 py-12 on desktop\n- **Verse Spacing**: mb-6 between verses\n- **Line Height**: Precisely calculated to display 13 lines of Arabic text per page\n\n### Three-Panel Reading Layout\n```\n┌─────────────────────────────────────┐\n│      Header (Surah Info + Audio)   │\n├─────────────────────────────────────┤\n│                                     │\n│    ┌──────────────────────────┐    │\n│    │   Arabic Text (13-line)  │    │ Main Content Area\n│    │   ----------------       │    │ (scrollable)\n│    │   Translation (Urdu)     │    │\n│    │   Translation (English)  │    │\n│    └──────────────────────────┘    │\n│                                     │\n├─────────────────────────────────────┤\n│    Tafseer/Hadith Drawer (toggled) │\n└─────────────────────────────────────┘\n```\n\n### Responsive Breakpoints\n- Mobile (< 768px): Single column, stacked layout\n- Tablet (768px - 1024px): Comfortable reading width\n- Desktop (> 1024px): Optimal reading width with side navigation\n\n## Component Library\n\n### Navigation Components\n**Top App Bar**\n- Sticky header with z-index-50\n- Contains: Surah selector dropdown, page number indicator, settings icon\n- Height: h-16\n- Padding: px-4 py-3\n\n**Surah Selector**\n- Dropdown menu with surah names (Arabic + transliteration + English)\n- Search functionality for quick navigation\n- Grouped by Juz (parts) for easier browsing\n\n### Reading Components\n**Verse Container**\n- Border-l-4 for verse number indication\n- Padding: p-4 to p-6\n- Margin bottom: mb-6 between verses\n- Background: Subtle hover state for interactivity\n\n**Arabic Text Display**\n- Font size: text-2xl to text-3xl\n- Line spacing: leading-loose\n- Clear verse number badges (rounded-full with subtle background)\n\n**Translation Cards**\n- Stacked layout below Arabic text\n- Label indicators: \"Urdu Translation\" / \"English Translation\" in text-sm font-medium\n- Padding: p-4\n- Border-t for visual separation\n\n### Audio Player\n**Persistent Audio Bar**\n- Fixed bottom position or sticky below header\n- Controls: Previous verse, Play/Pause, Next verse, Speed control, Reciter selection\n- Progress bar showing current playback position\n- Verse highlighting synchronized with audio playback\n- Height: h-20\n- Full width with max-w-4xl mx-auto to match content\n\n**Reciter Selection**\n- Dropdown with popular reciters: Mishary Alafasy, Abdul Basit, Saad Al-Ghamdi\n- Icon indicators for different recitation styles\n\n### Study Components\n**Tafseer Panel**\n- Expandable drawer or modal\n- Toggle button: \"View Tafseer\" icon button\n- Content: Verse-by-verse commentary\n- Padding: p-6\n- Max height with scroll for long content\n\n**Hadith Integration**\n- Separate tab or section\n- Search by keyword\n- Collection filters: Sahih Bukhari, Sahih Muslim\n- Card-based layout for hadith entries\n- Arabic text with translation side-by-side\n\n### Interactive Elements\n**Buttons**\n- Primary actions: px-6 py-3 with rounded-lg\n- Icon buttons: p-3 with rounded-full for audio controls\n- Text buttons for secondary actions: px-4 py-2\n\n**Form Inputs**\n- Search fields: h-12 with px-4, rounded-lg borders\n- Dropdowns: Custom select with clear labels\n- Consistent focus states with ring-2\n\n## Page Structure\n\n### Main Reading View\n1. **Header Section** (fixed/sticky)\n   - Surah name in both Arabic and English\n   - Verse range indicator\n   - Audio controls\n   \n2. **Content Section** (scrollable)\n   - 13-line Mushaf page view\n   - Arabic verses with clear verse numbers\n   - Urdu translation immediately below each verse\n   - English translation below Urdu\n   - Subtle dividers between verses\n   \n3. **Action Bar** (sticky)\n   - Bookmark current page\n   - Share verse\n   - Tafseer toggle\n   - Settings\n\n4. **Footer Drawer** (collapsible)\n   - Tafseer content when activated\n   - Hadith search when activated\n\n### Hadith Collection View\n- Sidebar navigation with collections (Bukhari, Muslim)\n- Main content area with search\n- Card grid for hadith entries (grid-cols-1 md:grid-cols-2)\n- Each card: Arabic text, translation, reference, grade\n\n## Accessibility & Usability\n\n- All interactive elements minimum touch target: 44x44px (h-11 w-11 minimum)\n- Clear focus indicators with ring-2 for keyboard navigation\n- ARIA labels for screen readers on all controls\n- High contrast ratios for text readability\n- Text resizing support without breaking layout\n- Skip links for keyboard users to jump to main content\n\n## Icons\n\n**Library**: Heroicons via CDN\n- Audio controls: play-circle, pause-circle, forward, backward\n- Navigation: chevron-left, chevron-right, bars-3\n- Actions: bookmark, share, cog-6-tooth, magnifying-glass\n- Content: book-open, chat-bubble-left-ellipsis (for tafseer)\n\n## Images\n\nNo hero images required. This is a utility application focused on text content. All visual elements serve functional purposes:\n- Surah header decorative patterns (optional subtle SVG borders)\n- Placeholder for verse number indicators (circular badges)\n\nThe design emphasizes typography, spacing, and content hierarchy over imagery.","size_bytes":7456},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/SurahSelector.tsx":{"content":"import { useState } from \"react\";\nimport { Search, BookOpen } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { Surah } from \"@shared/schema\";\n\ninterface SurahSelectorProps {\n  surahs: Surah[];\n  selectedSurah: number;\n  onSurahChange: (surahNumber: number) => void;\n  isLoading?: boolean;\n}\n\nexport function SurahSelector({ surahs, selectedSurah, onSurahChange, isLoading }: SurahSelectorProps) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const filteredSurahs = surahs.filter((surah) =>\n    surah.englishName.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    surah.name.includes(searchQuery) ||\n    surah.number.toString().includes(searchQuery)\n  );\n\n  const currentSurah = surahs.find(s => s.number === selectedSurah);\n\n  return (\n    <div className=\"flex items-center gap-3\">\n      <Select\n        value={selectedSurah.toString()}\n        onValueChange={(value) => onSurahChange(parseInt(value))}\n        disabled={isLoading}\n      >\n        <SelectTrigger \n          className=\"w-full sm:w-[280px] h-11\" \n          data-testid=\"select-surah\"\n        >\n          <div className=\"flex items-center gap-2\">\n            <BookOpen className=\"w-4 h-4 text-muted-foreground\" />\n            <SelectValue>\n              {currentSurah ? (\n                <span className=\"flex items-center gap-2\">\n                  <span className=\"font-medium\">{currentSurah.number}.</span>\n                  <span className=\"font-arabic text-base\">{currentSurah.name}</span>\n                  <span className=\"text-muted-foreground\">•</span>\n                  <span>{currentSurah.englishName}</span>\n                </span>\n              ) : (\n                \"Select Surah\"\n              )}\n            </SelectValue>\n          </div>\n        </SelectTrigger>\n        <SelectContent className=\"max-h-[400px]\">\n          <div className=\"p-2 sticky top-0 bg-popover z-10\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search surah...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-9 h-10\"\n                data-testid=\"input-search-surah\"\n              />\n            </div>\n          </div>\n          <div className=\"max-h-[300px] overflow-y-auto\">\n            {filteredSurahs.map((surah) => (\n              <SelectItem\n                key={surah.number}\n                value={surah.number.toString()}\n                data-testid={`option-surah-${surah.number}`}\n              >\n                <div className=\"flex items-center gap-3 py-1\">\n                  <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-medium text-sm\">\n                    {surah.number}\n                  </div>\n                  <div className=\"flex flex-col gap-0.5\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-arabic text-base\">{surah.name}</span>\n                      <span className=\"text-xs text-muted-foreground\">•</span>\n                      <span className=\"font-medium\">{surah.englishName}</span>\n                    </div>\n                    <div className=\"text-xs text-muted-foreground\">\n                      {surah.englishNameTranslation} • {surah.numberOfAyahs} verses • {surah.revelationType}\n                    </div>\n                  </div>\n                </div>\n              </SelectItem>\n            ))}\n            {filteredSurahs.length === 0 && (\n              <div className=\"p-4 text-center text-sm text-muted-foreground\">\n                No surahs found\n              </div>\n            )}\n          </div>\n        </SelectContent>\n      </Select>\n    </div>\n  );\n}\n","size_bytes":4028},"server/storage.ts":{"content":"import { \n  type User, \n  type InsertUser,\n  type Bookmark,\n  type InsertBookmark,\n  type ReadingPosition,\n  type InsertReadingPosition,\n  type UserPreferences,\n  type InsertUserPreferences,\n  users,\n  bookmarks,\n  readingPosition,\n  userPreferences,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, and, desc } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User methods\n  getUser(id: number): Promise<User | undefined>;\n  getUserBySessionId(sessionId: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n\n  // Bookmark methods\n  getBookmarks(userId: number): Promise<Bookmark[]>;\n  createBookmark(bookmark: InsertBookmark): Promise<Bookmark>;\n  deleteBookmark(id: number, userId: number): Promise<void>;\n  checkBookmarkExists(userId: number, surahNumber: number, ayahNumber: number): Promise<boolean>;\n\n  // Reading position methods\n  getReadingPosition(userId: number): Promise<ReadingPosition | undefined>;\n  upsertReadingPosition(position: InsertReadingPosition): Promise<ReadingPosition>;\n\n  // User preferences methods\n  getUserPreferences(userId: number): Promise<UserPreferences | undefined>;\n  upsertUserPreferences(preferences: InsertUserPreferences): Promise<UserPreferences>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User methods\n  async getUser(id: number): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async getUserBySessionId(sessionId: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.sessionId, sessionId));\n    return user || undefined;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(insertUser)\n      .returning();\n    return user;\n  }\n\n  // Bookmark methods\n  async getBookmarks(userId: number): Promise<Bookmark[]> {\n    return await db\n      .select()\n      .from(bookmarks)\n      .where(eq(bookmarks.userId, userId))\n      .orderBy(desc(bookmarks.createdAt));\n  }\n\n  async createBookmark(bookmark: InsertBookmark): Promise<Bookmark> {\n    const [newBookmark] = await db\n      .insert(bookmarks)\n      .values(bookmark)\n      .returning();\n    return newBookmark;\n  }\n\n  async deleteBookmark(id: number, userId: number): Promise<void> {\n    await db\n      .delete(bookmarks)\n      .where(and(eq(bookmarks.id, id), eq(bookmarks.userId, userId)));\n  }\n\n  async checkBookmarkExists(userId: number, surahNumber: number, ayahNumber: number): Promise<boolean> {\n    const [bookmark] = await db\n      .select()\n      .from(bookmarks)\n      .where(\n        and(\n          eq(bookmarks.userId, userId),\n          eq(bookmarks.surahNumber, surahNumber),\n          eq(bookmarks.ayahNumber, ayahNumber)\n        )\n      );\n    return !!bookmark;\n  }\n\n  // Reading position methods\n  async getReadingPosition(userId: number): Promise<ReadingPosition | undefined> {\n    const [position] = await db\n      .select()\n      .from(readingPosition)\n      .where(eq(readingPosition.userId, userId));\n    return position || undefined;\n  }\n\n  async upsertReadingPosition(position: InsertReadingPosition): Promise<ReadingPosition> {\n    // Try to insert, on conflict update\n    const [result] = await db\n      .insert(readingPosition)\n      .values({\n        ...position,\n        updatedAt: new Date(),\n      })\n      .onConflictDoUpdate({\n        target: readingPosition.userId,\n        set: {\n          surahNumber: position.surahNumber,\n          ayahNumber: position.ayahNumber,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return result;\n  }\n\n  // User preferences methods\n  async getUserPreferences(userId: number): Promise<UserPreferences | undefined> {\n    const [preferences] = await db\n      .select()\n      .from(userPreferences)\n      .where(eq(userPreferences.userId, userId));\n    return preferences || undefined;\n  }\n\n  async upsertUserPreferences(preferences: InsertUserPreferences): Promise<UserPreferences> {\n    const [result] = await db\n      .insert(userPreferences)\n      .values({\n        ...preferences,\n        updatedAt: new Date(),\n      })\n      .onConflictDoUpdate({\n        target: userPreferences.userId,\n        set: {\n          reciterIdentifier: preferences.reciterIdentifier,\n          theme: preferences.theme,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return result;\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":4521},"client/src/hooks/use-user-session.ts":{"content":"import { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport type { User } from '@shared/schema';\nimport { nanoid } from 'nanoid';\n\nconst SESSION_ID_KEY = 'quran_app_session_id';\n\nfunction getOrCreateSessionId(): string {\n  let sessionId = localStorage.getItem(SESSION_ID_KEY);\n  \n  if (!sessionId) {\n    sessionId = nanoid();\n    localStorage.setItem(SESSION_ID_KEY, sessionId);\n  }\n  \n  return sessionId;\n}\n\nexport function useUserSession() {\n  const [sessionId] = useState(() => getOrCreateSessionId());\n\n  const { data: user, isLoading } = useQuery<User>({\n    queryKey: ['/api/user/session', sessionId],\n    queryFn: async () => {\n      const response = await fetch('/api/user/session', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ sessionId }),\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to create user session');\n      }\n      \n      return response.json();\n    },\n    staleTime: Infinity, // User session doesn't change\n    gcTime: Infinity,\n  });\n\n  return {\n    user,\n    userId: user?.id,\n    isLoading,\n    sessionId,\n  };\n}\n","size_bytes":1168},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/QaidahSection.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Button } from \"@/components/ui/button\";\nimport { Volume2 } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface ArabicLetter {\n  arabic: string;\n  name: string;\n  transliteration: string;\n  pronunciation: string;\n  position: {\n    isolated: string;\n    initial: string;\n    medial: string;\n    final: string;\n  };\n}\n\ninterface TajweedRule {\n  id: string;\n  title: string;\n  arabicTitle: string;\n  description: string;\n  examples: {\n    arabic: string;\n    transliteration: string;\n    translation: string;\n    reference?: string;\n  }[];\n  keyPoints: string[];\n}\n\nconst arabicAlphabet: ArabicLetter[] = [\n  { arabic: \"ا\", name: \"Alif\", transliteration: \"A\", pronunciation: \"as in 'father'\", position: { isolated: \"ا\", initial: \"ا\", medial: \"ـا\", final: \"ـا\" } },\n  { arabic: \"ب\", name: \"Baa\", transliteration: \"B\", pronunciation: \"as in 'boy'\", position: { isolated: \"ب\", initial: \"بـ\", medial: \"ـبـ\", final: \"ـب\" } },\n  { arabic: \"ت\", name: \"Taa\", transliteration: \"T\", pronunciation: \"as in 'top'\", position: { isolated: \"ت\", initial: \"تـ\", medial: \"ـتـ\", final: \"ـت\" } },\n  { arabic: \"ث\", name: \"Thaa\", transliteration: \"Th\", pronunciation: \"as in 'think'\", position: { isolated: \"ث\", initial: \"ثـ\", medial: \"ـثـ\", final: \"ـث\" } },\n  { arabic: \"ج\", name: \"Jeem\", transliteration: \"J\", pronunciation: \"as in 'jam'\", position: { isolated: \"ج\", initial: \"جـ\", medial: \"ـجـ\", final: \"ـج\" } },\n  { arabic: \"ح\", name: \"Haa\", transliteration: \"H\", pronunciation: \"strong 'h' from throat\", position: { isolated: \"ح\", initial: \"حـ\", medial: \"ـحـ\", final: \"ـح\" } },\n  { arabic: \"خ\", name: \"Khaa\", transliteration: \"Kh\", pronunciation: \"as in 'Bach' (German)\", position: { isolated: \"خ\", initial: \"خـ\", medial: \"ـخـ\", final: \"ـخ\" } },\n  { arabic: \"د\", name: \"Daal\", transliteration: \"D\", pronunciation: \"as in 'day'\", position: { isolated: \"د\", initial: \"د\", medial: \"ـد\", final: \"ـد\" } },\n  { arabic: \"ذ\", name: \"Dhaal\", transliteration: \"Dh\", pronunciation: \"as in 'this'\", position: { isolated: \"ذ\", initial: \"ذ\", medial: \"ـذ\", final: \"ـذ\" } },\n  { arabic: \"ر\", name: \"Raa\", transliteration: \"R\", pronunciation: \"rolled 'r'\", position: { isolated: \"ر\", initial: \"ر\", medial: \"ـر\", final: \"ـر\" } },\n  { arabic: \"ز\", name: \"Zay\", transliteration: \"Z\", pronunciation: \"as in 'zoo'\", position: { isolated: \"ز\", initial: \"ز\", medial: \"ـز\", final: \"ـز\" } },\n  { arabic: \"س\", name: \"Seen\", transliteration: \"S\", pronunciation: \"as in 'sun'\", position: { isolated: \"س\", initial: \"سـ\", medial: \"ـسـ\", final: \"ـس\" } },\n  { arabic: \"ش\", name: \"Sheen\", transliteration: \"Sh\", pronunciation: \"as in 'she'\", position: { isolated: \"ش\", initial: \"شـ\", medial: \"ـشـ\", final: \"ـش\" } },\n  { arabic: \"ص\", name: \"Saad\", transliteration: \"S\", pronunciation: \"heavy 's' (emphatic)\", position: { isolated: \"ص\", initial: \"صـ\", medial: \"ـصـ\", final: \"ـص\" } },\n  { arabic: \"ض\", name: \"Daad\", transliteration: \"D\", pronunciation: \"heavy 'd' (emphatic)\", position: { isolated: \"ض\", initial: \"ضـ\", medial: \"ـضـ\", final: \"ـض\" } },\n  { arabic: \"ط\", name: \"Taa\", transliteration: \"T\", pronunciation: \"heavy 't' (emphatic)\", position: { isolated: \"ط\", initial: \"طـ\", medial: \"ـطـ\", final: \"ـط\" } },\n  { arabic: \"ظ\", name: \"Dhaa\", transliteration: \"Dh\", pronunciation: \"heavy 'dh' (emphatic)\", position: { isolated: \"ظ\", initial: \"ظـ\", medial: \"ـظـ\", final: \"ـظ\" } },\n  { arabic: \"ع\", name: \"Ayn\", transliteration: \"'\", pronunciation: \"guttural sound from throat\", position: { isolated: \"ع\", initial: \"عـ\", medial: \"ـعـ\", final: \"ـع\" } },\n  { arabic: \"غ\", name: \"Ghayn\", transliteration: \"Gh\", pronunciation: \"like French 'r'\", position: { isolated: \"غ\", initial: \"غـ\", medial: \"ـغـ\", final: \"ـغ\" } },\n  { arabic: \"ف\", name: \"Faa\", transliteration: \"F\", pronunciation: \"as in 'fun'\", position: { isolated: \"ف\", initial: \"فـ\", medial: \"ـفـ\", final: \"ـف\" } },\n  { arabic: \"ق\", name: \"Qaaf\", transliteration: \"Q\", pronunciation: \"deep 'k' from throat\", position: { isolated: \"ق\", initial: \"قـ\", medial: \"ـقـ\", final: \"ـق\" } },\n  { arabic: \"ك\", name: \"Kaaf\", transliteration: \"K\", pronunciation: \"as in 'king'\", position: { isolated: \"ك\", initial: \"كـ\", medial: \"ـكـ\", final: \"ـك\" } },\n  { arabic: \"ل\", name: \"Laam\", transliteration: \"L\", pronunciation: \"as in 'love'\", position: { isolated: \"ل\", initial: \"لـ\", medial: \"ـلـ\", final: \"ـل\" } },\n  { arabic: \"م\", name: \"Meem\", transliteration: \"M\", pronunciation: \"as in 'moon'\", position: { isolated: \"م\", initial: \"مـ\", medial: \"ـمـ\", final: \"ـم\" } },\n  { arabic: \"ن\", name: \"Noon\", transliteration: \"N\", pronunciation: \"as in 'noon'\", position: { isolated: \"ن\", initial: \"نـ\", medial: \"ـنـ\", final: \"ـن\" } },\n  { arabic: \"ه\", name: \"Haa\", transliteration: \"H\", pronunciation: \"as in 'hat'\", position: { isolated: \"ه\", initial: \"هـ\", medial: \"ـهـ\", final: \"ـه\" } },\n  { arabic: \"و\", name: \"Waaw\", transliteration: \"W\", pronunciation: \"as in 'way'\", position: { isolated: \"و\", initial: \"و\", medial: \"ـو\", final: \"ـو\" } },\n  { arabic: \"ي\", name: \"Yaa\", transliteration: \"Y\", pronunciation: \"as in 'yes'\", position: { isolated: \"ي\", initial: \"يـ\", medial: \"ـيـ\", final: \"ـي\" } },\n];\n\nconst tajweedRules: TajweedRule[] = [\n  {\n    id: \"noon-tanween\",\n    title: \"Noon Sakinah & Tanween Rules\",\n    arabicTitle: \"أحكام النون الساكنة والتنوين\",\n    description: \"Rules for pronouncing Noon with Sukoon (ن) and Tanween (ً ٌ ٍ) when followed by different letters.\",\n    keyPoints: [\n      \"Idhaar (Clear pronunciation) - with throat letters: ء ه ع ح غ خ\",\n      \"Idghaam (Merging) - with letters: ي ر م ل و ن\",\n      \"Iqlaab (Conversion to Meem) - with letter: ب\",\n      \"Ikhfaa (Hiding/Nasal sound) - with remaining 15 letters\"\n    ],\n    examples: [\n      { arabic: \"مِنْ هَادٍ\", transliteration: \"min hādin\", translation: \"from a guide\", reference: \"Example of Idhaar\" },\n      { arabic: \"مَنْ يَعْمَلْ\", transliteration: \"man ya'mal\", translation: \"whoever does\", reference: \"Example of Idghaam\" },\n      { arabic: \"سَمِيعٌ بَصِيرٌ\", transliteration: \"samī'un basīr\", translation: \"All-Hearing, All-Seeing\", reference: \"Example of Iqlaab\" },\n      { arabic: \"مِنْ كُلِّ\", transliteration: \"min kulli\", translation: \"from every\", reference: \"Example of Ikhfaa\" },\n    ]\n  },\n  {\n    id: \"meem-sakinah\",\n    title: \"Meem Sakinah Rules\",\n    arabicTitle: \"أحكام الميم الساكنة\",\n    description: \"Rules for pronouncing Meem with Sukoon (م) when followed by different letters.\",\n    keyPoints: [\n      \"Ikhfaa Shafawi (Labial hiding) - when followed by ب\",\n      \"Idghaam Shafawi (Labial merging) - when followed by another م\",\n      \"Idhaar Shafawi (Clear pronunciation) - with all other letters\"\n    ],\n    examples: [\n      { arabic: \"تَرْمِيهِم بِحِجَارَةٍ\", transliteration: \"tarmīhim bi-hijārah\", translation: \"striking them with stones\", reference: \"Al-Fil 105:4 - Ikhfaa Shafawi\" },\n      { arabic: \"لَهُم مَّا يَشَاءُونَ\", transliteration: \"lahum mā yashā'ūn\", translation: \"for them is whatever they wish\", reference: \"Az-Zumar 39:34 - Idghaam Shafawi\" },\n      { arabic: \"وَهُمْ فِيهَا\", transliteration: \"wahum fīhā\", translation: \"and they will be therein\", reference: \"Example of Idhaar Shafawi\" },\n    ]\n  },\n  {\n    id: \"madd\",\n    title: \"Madd (Prolongation)\",\n    arabicTitle: \"أحكام المد\",\n    description: \"Rules for elongating vowels. Madd means to stretch or prolong a sound.\",\n    keyPoints: [\n      \"Madd Tabee'i (Natural) - 2 counts (harakat)\",\n      \"Madd Waajib Muttasil (Obligatory Connected) - 4-5 counts\",\n      \"Madd Jaa'iz Munfasil (Permissible Separated) - 2, 4, or 5 counts\",\n      \"Madd Laazim (Necessary) - 6 counts\",\n      \"Madd 'Aarid Lis-Sukoon (Presented Sukoon) - 2, 4, or 6 counts\"\n    ],\n    examples: [\n      { arabic: \"قَالَ\", transliteration: \"qāla\", translation: \"he said\", reference: \"Madd Tabee'i\" },\n      { arabic: \"جَاءَ\", transliteration: \"jā'a\", translation: \"came\", reference: \"Madd Waajib Muttasil\" },\n      { arabic: \"يَا أَيُّهَا\", transliteration: \"yā ayyuhā\", translation: \"O you\", reference: \"Madd Jaa'iz Munfasil\" },\n      { arabic: \"الضَّالِّينَ\", transliteration: \"ad-dāllīn\", translation: \"those who have gone astray\", reference: \"Al-Fatihah 1:7 - Madd Laazim\" },\n    ]\n  },\n  {\n    id: \"qalqalah\",\n    title: \"Qalqalah (Echoing Sound)\",\n    arabicTitle: \"القلقلة\",\n    description: \"A vibrating or bouncing sound produced when pronouncing specific letters with sukoon.\",\n    keyPoints: [\n      \"Five letters of Qalqalah: ق ط ب ج د\",\n      \"Remembered by the word: قُطْبُ جَدّ\",\n      \"Qalqalah Sughra (Minor) - in the middle of a word\",\n      \"Qalqalah Kubra (Major) - at the end of a word (stopping)\"\n    ],\n    examples: [\n      { arabic: \"يَخْلُقُ\", transliteration: \"yakhluq\", translation: \"He creates\", reference: \"Qalqalah on ق\" },\n      { arabic: \"أَحَطتُ\", transliteration: \"ahaTtu\", translation: \"I have encompassed\", reference: \"An-Naml 27:22 - Qalqalah on ط\" },\n      { arabic: \"وَاجْعَل\", transliteration: \"waj'al\", translation: \"and make\", reference: \"Qalqalah on ج\" },\n      { arabic: \"الْحَمْدُ\", transliteration: \"al-hamdu\", translation: \"praise\", reference: \"Al-Fatihah 1:2 - Qalqalah on د\" },\n    ]\n  },\n  {\n    id: \"ghunnah\",\n    title: \"Ghunnah (Nasal Sound)\",\n    arabicTitle: \"الغنة\",\n    description: \"A nasal sound that comes from the nose, lasting 2 counts (harakat).\",\n    keyPoints: [\n      \"Found with م and ن when they have shaddah or are part of Idghaam\",\n      \"Duration: 2 counts\",\n      \"Comes from the nasal passage\",\n      \"Present in Ikhfaa, Idghaam, and Iqlaab\"\n    ],\n    examples: [\n      { arabic: \"مِنَ النَّاسِ\", transliteration: \"mina an-nās\", translation: \"from the people\", reference: \"Al-Baqarah 2:8 - Ghunnah with Idghaam\" },\n      { arabic: \"إِنَّ\", transliteration: \"inna\", translation: \"indeed\", reference: \"Ghunnah with Shaddah on ن\" },\n      { arabic: \"ثُمَّ\", transliteration: \"thumma\", translation: \"then\", reference: \"Ghunnah with Shaddah on م\" },\n    ]\n  },\n  {\n    id: \"ra\",\n    title: \"Raa' - Heavy & Light\",\n    arabicTitle: \"أحكام الراء - التفخيم والترقيق\",\n    description: \"Rules for pronouncing the letter Raa (ر) with Tafkheem (heavy/thick) or Tarqeeq (light/thin).\",\n    keyPoints: [\n      \"Heavy (Tafkheem): When Raa has Fatha, Damma, or comes after heavy letters\",\n      \"Light (Tarqeeq): When Raa has Kasra or comes after light letters\",\n      \"Special cases depend on surrounding letters and vowels\"\n    ],\n    examples: [\n      { arabic: \"رَبِّ\", transliteration: \"rabbi\", translation: \"my Lord\", reference: \"Heavy Raa with Fatha\" },\n      { arabic: \"رُسُل\", transliteration: \"rusul\", translation: \"messengers\", reference: \"Heavy Raa with Damma\" },\n      { arabic: \"رِزْق\", transliteration: \"rizq\", translation: \"provision\", reference: \"Light Raa with Kasra\" },\n      { arabic: \"فِرْعَوْن\", transliteration: \"fir'awn\", translation: \"Pharaoh\", reference: \"Light Raa after Kasra\" },\n    ]\n  },\n  {\n    id: \"laam-allah\",\n    title: \"Laam of Allah's Name\",\n    arabicTitle: \"لام لفظ الجلالة\",\n    description: \"Rules for pronouncing the Laam in the word 'Allah' (الله).\",\n    keyPoints: [\n      \"Heavy (Tafkheem): When preceded by Fatha or Damma - اللَّه / اللَّهُ\",\n      \"Light (Tarqeeq): When preceded by Kasra - اللَّهِ\",\n      \"Affects the pronunciation of the entire blessed name\"\n    ],\n    examples: [\n      { arabic: \"بِسْمِ اللَّهِ\", transliteration: \"bismillāh\", translation: \"In the name of Allah\", reference: \"Al-Fatihah 1:1 - Light Laam\" },\n      { arabic: \"قُلْ هُوَ اللَّهُ\", transliteration: \"qul huwallāhu\", translation: \"Say: He is Allah\", reference: \"Al-Ikhlas 112:1 - Heavy Laam\" },\n      { arabic: \"الْحَمْدُ لِلَّهِ\", transliteration: \"al-hamdu lillāh\", translation: \"Praise be to Allah\", reference: \"Al-Fatihah 1:2 - Light Laam\" },\n    ]\n  },\n  {\n    id: \"sifaat\",\n    title: \"Characteristics of Letters (Sifaat)\",\n    arabicTitle: \"صفات الحروف\",\n    description: \"The inherent qualities that give each Arabic letter its unique sound.\",\n    keyPoints: [\n      \"Hams (Whispered) vs Jahr (Voiced)\",\n      \"Shiddah (Intensity) vs Rakhawah (Softness) vs Tawassut (Medium)\",\n      \"Isti'laa (Elevated) vs Istifaal (Lowered)\",\n      \"Itbaaq (Covered) vs Infitaah (Open)\",\n      \"Idhlaaq (Fluent) vs Ismat (Prevented)\"\n    ],\n    examples: [\n      { arabic: \"صِرَاطَ\", transliteration: \"sirāTa\", translation: \"path\", reference: \"Heavy letters: ص ط\" },\n      { arabic: \"قُرْآن\", transliteration: \"qur'ān\", translation: \"Quran\", reference: \"Heavy letter: ق\" },\n      { arabic: \"فَرْ مُرْ\", transliteration: \"far mur\", translation: \"\", reference: \"Letters of Idhlaaq: ف ر م\" },\n    ]\n  }\n];\n\n// Map Arabic letters to audio filenames (using Arabic character as key to avoid name duplicates)\nconst letterAudioMap: { [key: string]: string } = {\n  \"ا\": \"alif\",\n  \"ب\": \"baa\",\n  \"ت\": \"taa\",\n  \"ث\": \"thaa\",\n  \"ج\": \"jeem\",\n  \"ح\": \"haa\",\n  \"خ\": \"khaa\",\n  \"د\": \"dal\",\n  \"ذ\": \"thal\",\n  \"ر\": \"raa\",\n  \"ز\": \"zay\",\n  \"س\": \"seen\",\n  \"ش\": \"sheen\",\n  \"ص\": \"saad\",\n  \"ض\": \"daad\",\n  \"ط\": \"taa_h\",     // Heavy Taa\n  \"ظ\": \"zaa\",       // Heavy Dhaa\n  \"ع\": \"ayn\",\n  \"غ\": \"ghayn\",\n  \"ف\": \"faa\",\n  \"ق\": \"qaaf\",\n  \"ك\": \"kaaf\",\n  \"ل\": \"laam\",\n  \"م\": \"meem\",\n  \"ن\": \"noon\",\n  \"ه\": \"haa_h\",     // Final Haa\n  \"و\": \"waaw\",\n  \"ي\": \"yaa\",\n};\n\nexport function QaidahSection() {\n  const [selectedLetter, setSelectedLetter] = useState<ArabicLetter | null>(null);\n  const [selectedRule, setSelectedRule] = useState<TajweedRule | null>(null);\n  const currentAudioRef = useRef<HTMLAudioElement | null>(null);\n\n  // Cleanup audio on unmount\n  useEffect(() => {\n    return () => {\n      if (currentAudioRef.current) {\n        currentAudioRef.current.pause();\n      }\n    };\n  }, []);\n\n  const playLetterAudio = (arabicLetter: string) => {\n    try {\n      // Get the audio filename for this letter\n      const audioFilename = letterAudioMap[arabicLetter];\n      if (!audioFilename) {\n        console.error(`No audio file found for letter: ${arabicLetter}`);\n        return;\n      }\n\n      // Simply pause any currently playing audio (don't clear src)\n      if (currentAudioRef.current) {\n        currentAudioRef.current.pause();\n      }\n\n      // Create new audio element\n      const audioUrl = `/audio/letters/${audioFilename}.mp3`;\n      const audio = new Audio(audioUrl);\n      audio.volume = 1.0;\n      \n      // Store reference to current audio\n      currentAudioRef.current = audio;\n      \n      // Wait for audio to be ready before playing\n      audio.addEventListener('canplaythrough', () => {\n        // Only play if this is still the current audio (prevents old audios from playing)\n        if (currentAudioRef.current === audio) {\n          audio.play().catch(error => {\n            console.error('Error playing audio:', audioFilename, error);\n          });\n        }\n      }, { once: true });\n      \n      audio.addEventListener('error', (e) => {\n        const target = e.target as HTMLAudioElement;\n        // Only log errors for the current audio\n        if (currentAudioRef.current === audio) {\n          const errorCode = target.error?.code;\n          const errorMsg = target.error?.message || 'Unknown error';\n          console.error(`Audio load error for ${audioFilename}:`, {\n            code: errorCode,\n            message: errorMsg,\n            url: audioUrl\n          });\n        }\n      });\n      \n      // Start loading the audio\n      audio.load();\n    } catch (error) {\n      console.error('Error in audio playback:', error);\n    }\n  };\n\n  // For Tajweed examples (full verses), use Web Speech API\n  const speak = (text: string) => {\n    if (!('speechSynthesis' in window)) {\n      console.log('Speech synthesis not available');\n      return;\n    }\n\n    try {\n      window.speechSynthesis.cancel();\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.lang = 'ar-SA';\n      utterance.rate = 0.7;\n      window.speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error('Error in speech synthesis:', error);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Tabs defaultValue=\"alphabet\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n          <TabsTrigger value=\"alphabet\" data-testid=\"tab-alphabet\">\n            Arabic Alphabet\n          </TabsTrigger>\n          <TabsTrigger value=\"tajweed\" data-testid=\"tab-tajweed\">\n            Tajweed Rules\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"alphabet\">\n          <Card className=\"mb-6\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-between\">\n                <span>Alif Baa - Learn Arabic Alphabet</span>\n                <span className=\"font-arabic text-2xl\">حروف الهجاء</span>\n              </CardTitle>\n              <CardDescription>\n                28 letters of the Arabic alphabet with pronunciation guide. Click on any letter to hear its pronunciation.\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-4\">\n                {arabicAlphabet.map((letter, index) => (\n                  <Card\n                    key={`${letter.arabic}-${index}`}\n                    className=\"hover-elevate active-elevate-2 cursor-pointer transition-all\"\n                    onClick={() => {\n                      setSelectedLetter(letter);\n                      playLetterAudio(letter.arabic);\n                    }}\n                    data-testid={`letter-${letter.name.toLowerCase()}-${letter.transliteration.toLowerCase()}`}\n                  >\n                    <CardContent className=\"p-4 text-center flex flex-col items-center justify-between gap-4 min-h-[180px]\">\n                      <div className=\"text-5xl font-arabic leading-none mt-2\">{letter.arabic}</div>\n                      <div className=\"flex flex-col gap-1 w-full\">\n                        <div className=\"text-sm font-semibold break-words px-1\">{letter.name}</div>\n                        <div className=\"text-xs text-muted-foreground break-words px-1\">{letter.transliteration}</div>\n                      </div>\n                      <Button\n                        size=\"icon\"\n                        variant=\"ghost\"\n                        className=\"h-7 w-7 flex-shrink-0\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          playLetterAudio(letter.arabic);\n                        }}\n                        aria-label={`Hear pronunciation of ${letter.name}`}\n                        data-testid={`button-speak-${letter.name.toLowerCase()}-${letter.transliteration.toLowerCase()}`}\n                      >\n                        <Volume2 className=\"w-4 h-4\" />\n                      </Button>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n\n              {selectedLetter && (\n                <Card className=\"mt-6 bg-primary/5\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-4\">\n                      <span className=\"text-5xl font-arabic\">{selectedLetter.arabic}</span>\n                      <div>\n                        <div className=\"text-xl\">{selectedLetter.name}</div>\n                        <div className=\"text-sm text-muted-foreground\">{selectedLetter.transliteration}</div>\n                      </div>\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div>\n                      <p className=\"text-sm font-medium mb-2\">Pronunciation:</p>\n                      <p className=\"text-sm text-muted-foreground\">{selectedLetter.pronunciation}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium mb-2\">Letter Forms (positions in word):</p>\n                      <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-arabic mb-1\">{selectedLetter.position.isolated}</div>\n                          <div className=\"text-xs text-muted-foreground\">Isolated</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-arabic mb-1\">{selectedLetter.position.initial}</div>\n                          <div className=\"text-xs text-muted-foreground\">Initial</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-arabic mb-1\">{selectedLetter.position.medial}</div>\n                          <div className=\"text-xs text-muted-foreground\">Medial</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-arabic mb-1\">{selectedLetter.position.final}</div>\n                          <div className=\"text-xs text-muted-foreground\">Final</div>\n                        </div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"tajweed\">\n          <Card className=\"mb-6\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-between\">\n                <span>Tajweed Rules</span>\n                <span className=\"font-arabic text-2xl\">أحكام التجويد</span>\n              </CardTitle>\n              <CardDescription>\n                Learn the essential rules of Quranic recitation with examples from the Quran\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {tajweedRules.map((rule) => (\n                  <Card\n                    key={rule.id}\n                    className=\"hover-elevate active-elevate-2 cursor-pointer transition-all\"\n                    onClick={() => setSelectedRule(selectedRule?.id === rule.id ? null : rule)}\n                    data-testid={`tajweed-${rule.id}`}\n                    role=\"button\"\n                    aria-expanded={selectedRule?.id === rule.id}\n                    aria-label={`${rule.title} - Click to expand`}\n                  >\n                    <CardHeader>\n                      <CardTitle className=\"flex items-center justify-between text-lg\">\n                        <span>{rule.title}</span>\n                        <span className=\"font-arabic text-xl\">{rule.arabicTitle}</span>\n                      </CardTitle>\n                      <CardDescription>{rule.description}</CardDescription>\n                    </CardHeader>\n                    \n                    {selectedRule?.id === rule.id && (\n                      <CardContent className=\"space-y-4 border-t pt-4\">\n                        <div>\n                          <h4 className=\"font-semibold mb-2\">Key Points:</h4>\n                          <ul className=\"list-disc list-inside space-y-1 text-sm text-muted-foreground\">\n                            {rule.keyPoints.map((point, idx) => (\n                              <li key={idx}>{point}</li>\n                            ))}\n                          </ul>\n                        </div>\n\n                        <div>\n                          <h4 className=\"font-semibold mb-3\">Examples:</h4>\n                          <div className=\"space-y-3\">\n                            {rule.examples.map((example, idx) => (\n                              <div key={idx} className=\"p-4 bg-muted/50 rounded-lg\">\n                                <div className=\"flex items-start justify-between gap-4 mb-2\">\n                                  <div className=\"text-2xl font-arabic\" dir=\"rtl\">{example.arabic}</div>\n                                  <Button\n                                    size=\"icon\"\n                                    variant=\"ghost\"\n                                    onClick={(e) => {\n                                      e.stopPropagation();\n                                      speak(example.arabic);\n                                    }}\n                                    className=\"h-8 w-8\"\n                                    aria-label={`Hear pronunciation of example: ${example.transliteration}`}\n                                    data-testid={`button-speak-example-${rule.id}-${idx}`}\n                                  >\n                                    <Volume2 className=\"w-4 h-4\" />\n                                  </Button>\n                                </div>\n                                <div className=\"text-sm italic text-muted-foreground mb-1\">\n                                  {example.transliteration}\n                                </div>\n                                <div className=\"text-sm\">{example.translation}</div>\n                                {example.reference && (\n                                  <Badge variant=\"outline\" className=\"mt-2\">\n                                    {example.reference}\n                                  </Badge>\n                                )}\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      </CardContent>\n                    )}\n                  </Card>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":26528},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n        arabic: [\"var(--font-arabic)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4090},"client/src/components/HadithCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Hadith } from \"@shared/schema\";\n\ninterface HadithCardProps {\n  hadith: Hadith;\n}\n\nexport function HadithCard({ hadith }: HadithCardProps) {\n  const collectionName = hadith.book || hadith.collection || 'Unknown';\n  const hadithNum = hadith.hadithNumber || hadith.number || '1';\n  \n  return (\n    <Card className=\"p-6 hover-elevate\" data-testid={`hadith-card-${hadithNum}`}>\n      <div className=\"flex items-start justify-between gap-4 mb-4\">\n        <div className=\"flex items-center gap-2\">\n          <Badge variant=\"outline\" className=\"font-medium capitalize\">\n            {collectionName}\n          </Badge>\n          {hadith.grade && (\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              {hadith.grade}\n            </Badge>\n          )}\n        </div>\n        <span className=\"text-sm text-muted-foreground\">\n          #{hadithNum}\n        </span>\n      </div>\n\n      <div className=\"space-y-4\">\n        {hadith.arabicText && (\n          <div>\n            <div className=\"text-sm font-medium text-muted-foreground mb-2\">\n              Arabic\n            </div>\n            <p \n              className=\"font-arabic text-xl leading-loose text-right\" \n              dir=\"rtl\"\n              data-testid=\"text-hadith-arabic\"\n            >\n              {hadith.arabicText}\n            </p>\n          </div>\n        )}\n\n        {hadith.englishText && (\n          <div className=\"pt-3 border-t border-border\">\n            <div className=\"text-sm font-medium text-muted-foreground mb-2\">\n              English Translation\n            </div>\n            <p className=\"text-base leading-relaxed\" data-testid=\"text-hadith-english\">\n              {hadith.englishText}\n            </p>\n          </div>\n        )}\n\n        {hadith.urduText && (\n          <div className=\"pt-3 border-t border-border\">\n            <div className=\"text-sm font-medium text-muted-foreground mb-2\">\n              Urdu Translation\n            </div>\n            <p \n              className=\"text-base leading-relaxed\" \n              dir=\"rtl\"\n              data-testid=\"text-hadith-urdu\"\n            >\n              {hadith.urduText}\n            </p>\n          </div>\n        )}\n\n        {(hadith.narrator || hadith.reference) && (\n          <div className=\"pt-3 border-t border-border flex flex-col gap-1\">\n            {hadith.narrator && (\n              <p className=\"text-sm text-muted-foreground\">\n                <span className=\"font-medium\">Narrator:</span> {hadith.narrator}\n              </p>\n            )}\n            {hadith.reference && (\n              <p className=\"text-sm text-muted-foreground\">\n                <span className=\"font-medium\">Reference:</span> {hadith.reference}\n              </p>\n            )}\n          </div>\n        )}\n      </div>\n    </Card>\n  );\n}\n","size_bytes":2880},"replit.md":{"content":"# Al-Quran Reading Application\n\n## Project Overview\nA comprehensive Quran reading application with audio recitation, Urdu and English translations, Tafseer (Islamic commentary), and authentic Hadith collections. Built with React, Express, and TypeScript.\n\n## Features Implemented\n- **Quran Reading**: 13-line Mushaf page layout with beautiful Arabic typography\n- **Audio Recitation**: Multiple reciters (Mishary Alafasy, Abdul Basit, etc.) with synchronized playback\n- **Translations**: Side-by-side Urdu and English translations for each verse\n- **Tafseer**: Verse-by-verse Islamic commentary with expandable panel\n- **Hadith Collection**: Browse authentic Hadith from Sahih al-Bukhari and Sahih Muslim\n- **Kids Learning Section**: Interactive Quran learning for children with:\n  - **Quran Recitation** (with audio player and controls):\n    - Juz Amma (30th Part - Surahs 78-114)\n    - Surah Yasin (The Heart of the Quran)\n    - Surah Al-Mulk (Protection from Grave Punishment)\n    - Surah Al-Waqiah (The Inevitable Event)\n    - Audio from Sheikh Minshawi and Sheikh Hudhaify\n    - Verse selection dropdown for quick navigation\n    - Repeat mode for verse practice\n    - Play/Pause/Stop controls\n    - Volume adjustment\n    - Side-by-side Urdu and English translations\n  - **Qaidah & Arabic Learning**:\n    - **Arabic Alphabet (Alif Baa)**: 28 letters with authentic pronunciation\n      - Each letter shows: Arabic character, name, transliteration\n      - Four position forms: Isolated, Initial, Medial, Final\n      - **Authentic male voice pronunciation** using pre-recorded audio\n      - Audio extracted from user-provided Lesson 1 video\n      - 28 individual letter audio files (3.2 seconds each)\n      - Click speaker icon to hear clear, professional pronunciation\n      - Detailed pronunciation descriptions\n    - **Tajweed Rules**: 8 comprehensive categories with Quranic examples\n      - Noon Sakinah & Tanween (Idhaar, Idghaam, Iqlaab, Ikhfaa)\n      - Meem Sakinah rules (Ikhfaa Shafawi, Idghaam Shafawi, Idhaar)\n      - Madd (Prolongation) - 5 types with examples\n      - Qalqalah (Echoing Sound) - ق ط ب ج د\n      - Ghunnah (Nasal Sound)\n      - Raa' (Heavy & Light pronunciation)\n      - Laam of Allah's Name\n      - Sifaat (Characteristics of Letters)\n      - Each rule includes: Arabic title, description, key points, Quranic examples\n      - Examples with audio pronunciation, transliteration, and translation\n  - Mobile-responsive design across all sections\n- **Dark Mode**: Full dark mode support with theme persistence\n- **Responsive Design**: Mobile-first design with tablet and desktop optimization\n\n## Tech Stack\n- **Frontend**: React 18, TypeScript, Tailwind CSS, Shadcn UI\n- **Backend**: Express.js, Node.js\n- **Database**: PostgreSQL (Neon), Drizzle ORM\n- **State Management**: TanStack Query (React Query)\n- **Routing**: Wouter\n- **APIs**: AlQuran Cloud API, Quran Tafseer API, fawazahmed0 Hadith API\n\n## Architecture\n\n### Data Models (shared/schema.ts)\n\n#### API Response Types (Zod)\n- **Surah**: Chapter information with name, number, revelation type\n- **Ayah**: Individual verses with Arabic text and audio URLs\n- **Translation**: Urdu and English translations\n- **Tafseer**: Verse commentary and explanation\n- **Hadith**: Authentic narrations with English text and reference\n- **Reciter**: Audio reciter information\n\n#### Database Tables (Drizzle ORM)\n- **users**: Anonymous user tracking via sessionId\n- **bookmarks**: Saved verses (userId, surahNumber, ayahNumber, createdAt)\n  - Unique constraint on (userId, surahNumber, ayahNumber)\n  - Indexes for efficient queries\n- **reading_position**: Current reading position per user (surahNumber, ayahNumber)\n- **user_preferences**: Reciter and theme preferences per user\n\n### Frontend Components\n1. **SurahSelector**: Dropdown with search for selecting Quran chapters\n2. **VerseDisplay**: Beautiful verse cards with Arabic text and translations\n3. **AudioPlayer**: Persistent audio controls with reciter selection\n4. **TafseerPanel**: Expandable drawer for verse commentary\n5. **HadithCard**: Card layout for Hadith display\n\n### Pages\n1. **QuranReader** (/): Main Quran reading interface\n2. **HadithBrowser** (/hadith): Hadith collection browser\n3. **KidsLearning** (/kids): Interactive Quran learning for children\n\n## API Endpoints (Backend)\n\n### Quran Endpoints\n- `GET /api/surahs` - Fetch all Quran chapters (114 surahs)\n- `GET /api/surah/:surahNumber/:reciterEdition` - Fetch verses with audio and translations\n- `GET /api/tafseer/:surahNumber/:ayahNumber` - Fetch Tafseer for specific verse\n\n### Hadith Endpoints\n- `GET /api/hadiths/:collection?page=1&search=query` - Fetch hadiths from specified collection\n  - Collections: \"bukhari\", \"muslim\", \"abudawud\", \"tirmidhi\", \"ibnmajah\", \"nasai\", \"malik\" (7 total)\n  - Pagination: 20 hadiths per page\n  - Optional search parameter for client-side filtering\n  - Response includes: hadiths array, page, pageSize, hasMore, total\n\n## External APIs Used\n\n### 1. AlQuran Cloud API (http://api.alquran.cloud/v1/)\n- No authentication required\n- No rate limits\n- Endpoints:\n  - `/surah` - Get all surahs\n  - `/surah/:number/editions/:edition1,:edition2,:edition3` - Get surah with multiple editions\n  - Available editions:\n    - `quran-uthmani` - Arabic text (Uthmani script)\n    - `ar.alafasy` - Audio by Mishary Alafasy\n    - `ar.abdulbasitmurattal` - Audio by Abdul Basit\n    - `ar.minshawi` - Audio by Mohamed Siddiq al-Minshawi (Murattal)\n    - `ar.hudhaify` - Audio by Ali Bin Abdur-Rahman Al-Hudhaify\n    - `ur.jalandhry` - Urdu translation\n    - `en.sahih` - English translation (Sahih International)\n\n### 2. Quran Tafseer API (http://api.quran-tafseer.com/)\n- No authentication required\n- Endpoints:\n  - `/tafseer/:tafseerID/:surahNumber/:ayahNumber`\n  - Available Tafseers:\n    - ID 1: التفسير الميسر (Al-Tafsir Al-Muyassar)\n    - ID 2: تفسير الجلالين (Tafsir al-Jalalayn)\n\n### 3. Hadith API (fawazahmed0 CDN)\n- Using fawazahmed0/hadith-api via CDN\n- CDN: https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/\n- No authentication required\n- Collections available (English editions):\n  - eng-bukhari (Sahih al-Bukhari) - 7,563 hadiths\n  - eng-muslim (Sahih Muslim) - 7,190 hadiths\n  - eng-abudawud (Sunan Abu Dawud) - 5,274 hadiths\n  - eng-tirmidhi (Jami' At-Tirmidhi) - 3,956 hadiths\n  - eng-ibnmajah (Sunan Ibn Majah) - 4,341 hadiths\n  - eng-nasai (Sunan an-Nasa'i) - 5,758 hadiths\n  - eng-malik (Muwatta Malik) - 1,826 hadiths\n- Backend caches entire collections (1-hour TTL)\n- Client-side pagination (20 per page)\n- Search filters hadiths client-side after fetching collection\n\n## Design System\n\n### Colors (Islamic Theme)\n- Primary: Emerald/Teal tones (158° hue) - traditional Islamic green\n- Clean, neutral backgrounds for readability\n- High contrast for accessibility\n\n### Typography\n- **Arabic**: 'Amiri Quran', 'Scheherazade New' - Traditional Quranic fonts\n- **Latin**: 'Inter', 'Noto Sans' - Clean, modern sans-serif\n- Font sizes optimized for long reading sessions\n\n### Spacing\n- Generous padding for comfort (p-6, p-8, p-12)\n- Clear verse separation (mb-6)\n- Consistent gap between elements (gap-3, gap-4)\n\n## Recent Changes (November 2025)\n- ✅ **Authentic Arabic Letter Pronunciation Added** (Latest - Nov 2, 2025)\n  - Extracted audio from user-provided MP4 video (Lesson 1)\n  - Split 90-second audio into 28 individual letter files (3.2s each)\n  - Moved all audio files to client/public/audio/letters/\n  - Replaced Web Speech API with HTML5 Audio API\n  - Implemented ref-based audio management to prevent overlapping playback\n  - Added current-check guards to ensure only latest letter plays\n  - Fixed layout: min-h-[180px], gap-4, text-5xl for better spacing\n  - No MEDIA_ELEMENT_ERROR or audio cleanup issues\n  - Professional male voice pronunciation for all 28 Arabic letters\n- ✅ **Qaidah & Arabic Learning Section Added**\n  - Comprehensive Arabic alphabet learning (Alif Baa)\n    - 28 letters with detailed information\n    - Four position forms for each letter\n    - Pronunciation guide with transliteration\n    - Text-to-speech audio using Web Speech API\n  - Complete Tajweed rules curriculum\n    - 8 major rule categories with descriptions\n    - Multiple authentic Quranic examples for each rule\n    - Key points and detailed explanations\n    - Audio pronunciation for all examples\n  - Accessibility features: aria-labels, test IDs, keyboard navigation\n  - Speech synthesis cleanup on unmount\n  - Mobile-responsive grid layouts\n- ✅ **Kids Learning Section Added** - Interactive Quran learning page for children\n  - Created dedicated /kids route with two-level tabbed interface\n  - **Quran Recitation tab**: Audio learning with 4 sections\n  - **Qaidah & Arabic tab**: Alphabet and Tajweed education\n  - Implemented audio player with repeat mode, stop, and volume controls\n  - Added 4 learning sections: Juz Amma (30th Part), Surah Yasin, Surah Al-Mulk, Surah Al-Waqiah\n  - Integrated Sheikh Minshawi and Sheikh Hudhaify audio reciters\n  - Verse navigation with previous/next controls\n  - **Verse selection dropdown** - Jump directly to any verse in the current surah\n  - Side-by-side translations (Urdu and English) for learning\n  - Auto-advance to next verse when not in repeat mode\n  - Added navigation buttons across all pages for easy access\n  - **Mobile responsive design** - Optimized layout for mobile devices with stacked controls\n- ✅ **Database Setup Complete** - PostgreSQL with Drizzle ORM (Task 2)\n  - Created users, bookmarks, reading_position, user_preferences tables\n  - Implemented DatabaseStorage with full CRUD operations\n  - Added unique constraints and indexes for data integrity\n  - Session-based anonymous user tracking (future auth-ready)\n- ✅ **Real Hadith API Integration Complete** - Integrated fawazahmed0 CDN API with 7 authentic Hadith collections (Task 1)\n  - Replaced hardcoded data with real API integration\n  - Implemented pagination with accumulation (20 hadiths per page, Load More button)\n  - Added search functionality with proper state management\n  - Fixed critical bugs: TypeScript compilation, search pagination, grade serialization\n  - Comprehensive e2e testing validates all features\n- Initial project setup with fullstack TypeScript structure\n- Implemented complete frontend with all core features (Quran reader, audio player, translations, tafseer)\n- Added dark mode support with theme persistence\n- Created beautiful, accessible UI following Islamic design principles\n- Integrated Arabic fonts for authentic Quranic text rendering\n- Implemented backend API proxy routes with caching for AlQuran Cloud API and Tafseer API\n- Added audio synchronization with automatic verse advancement during playback\n- Implemented robust error handling with input validation and timeout management\n- Optimized layout for better reading experience with reduced spacing and compact design\n\n## User Guide\n### Reading the Quran\n1. Use the surah selector dropdown to choose a chapter\n2. Read Arabic text with side-by-side Urdu and English translations\n3. Click the play button to start audio recitation\n4. Audio automatically advances to the next verse when playing\n5. Click any verse to view its Tafseer (commentary)\n\n### Browsing Hadith\n1. Click the \"Browse Hadith\" button in the header to navigate to Hadith collection\n2. Choose from 7 authentic collections via tabs (Sahih Bukhari, Muslim, Abu Dawud, Tirmidhi, Ibn Majah, Nasa'i, Muwatta Malik)\n3. Browse hadiths with English translations (20 per page)\n4. Click \"Load More Hadiths\" to load additional pages\n5. Use the search box to filter hadiths by keywords\n6. Each hadith shows: collection badge, hadith number, English narration, and reference\n\n### Kids Learning\n1. Click \"Kids Learning\" button in the header to access the learning section\n2. Choose between two main tabs:\n   - **Quran Recitation**: Interactive audio learning\n   - **Qaidah & Arabic**: Alphabet and Tajweed rules\n\n#### Quran Recitation Tab\n1. Choose from sub-tabs: Juz Amma, Surah Yasin, Surah Al-Mulk, or Surah Al-Waqiah\n2. Select your preferred reciter (Sheikh Minshawi or Sheikh Hudhaify)\n3. Use the \"Jump to Verse\" dropdown to quickly navigate to any verse in the current surah\n4. Each verse displays Arabic text with Urdu and English translations\n5. Audio controls (responsive on mobile):\n   - **Play/Pause**: Start or pause recitation\n   - **Stop**: Stop playback and reset to beginning\n   - **Repeat**: Toggle repeat mode to practice the same verse\n   - **Previous/Next**: Navigate between verses\n   - **Volume**: Adjust audio volume with slider\n6. Audio automatically advances to the next verse unless repeat mode is on\n7. Mobile-optimized layout with stacked controls for easy use on phones and tablets\n\n#### Qaidah & Arabic Tab\n1. **Arabic Alphabet (Alif Baa)**:\n   - Browse all 28 Arabic letters in a responsive grid\n   - Click any letter to see detailed information\n   - View four position forms (Isolated, Initial, Medial, Final)\n   - Click speaker icon to hear pronunciation\n   - Learn transliteration and pronunciation guide\n2. **Tajweed Rules**:\n   - Explore 8 major Tajweed categories\n   - Click any rule to expand and see details\n   - View key points for each rule\n   - Study authentic Quranic examples with:\n     - Arabic text (with audio pronunciation)\n     - Transliteration\n     - English translation\n     - Quranic reference\n   - Interactive expandable cards for easy learning\n\n### Dark Mode\n- Click the sun/moon icon in the header to toggle between light and dark themes\n- Theme preference is saved automatically\n\n## Next Steps\n1. Add bookmarking functionality for favorite verses\n2. Implement reading progress tracking\n3. Add more reciters and tafseer sources\n4. Optimize performance with virtual scrolling for long surahs\n5. Add offline support with service workers\n","size_bytes":13825},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"client/src/components/TafseerPanel.tsx":{"content":"import { useState } from \"react\";\nimport { MessageSquare, X, Loader2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Tafseer } from \"@shared/schema\";\nimport { cn } from \"@/lib/utils\";\n\ninterface TafseerPanelProps {\n  tafseer: Tafseer | null;\n  isOpen: boolean;\n  onToggle: () => void;\n  isLoading?: boolean;\n  verseNumber?: number;\n}\n\nexport function TafseerPanel({ tafseer, isOpen, onToggle, isLoading, verseNumber }: TafseerPanelProps) {\n  return (\n    <>\n      {!isOpen && (\n        <Button\n          variant=\"outline\"\n          size=\"default\"\n          onClick={onToggle}\n          className=\"fixed bottom-28 right-6 shadow-lg z-30\"\n          data-testid=\"button-toggle-tafseer\"\n          aria-label=\"View Tafseer\"\n        >\n          <MessageSquare className=\"w-4 h-4 mr-2\" />\n          View Tafseer\n        </Button>\n      )}\n\n      <div\n        className={cn(\n          \"fixed inset-x-0 bottom-0 z-50 transition-transform duration-300 ease-in-out\",\n          isOpen ? \"translate-y-0\" : \"translate-y-full\"\n        )}\n      >\n        <Card className=\"rounded-t-2xl rounded-b-none border-t border-x-0 border-b-0 max-h-[60vh] flex flex-col\">\n          <div className=\"flex items-center justify-between p-4 border-b border-card-border\">\n            <div className=\"flex items-center gap-2\">\n              <MessageSquare className=\"w-5 h-5 text-primary\" />\n              <h3 className=\"font-semibold text-lg\">\n                Tafseer {verseNumber && `- Verse ${verseNumber}`}\n              </h3>\n            </div>\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              onClick={onToggle}\n              data-testid=\"button-close-tafseer\"\n              aria-label=\"Close Tafseer\"\n            >\n              <X className=\"w-5 h-5\" />\n            </Button>\n          </div>\n\n          <ScrollArea className=\"flex-1 p-6\">\n            {isLoading ? (\n              <div className=\"flex items-center justify-center py-12\">\n                <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n              </div>\n            ) : tafseer ? (\n              <div className=\"space-y-4 max-w-3xl\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm font-medium text-muted-foreground\">\n                    {tafseer.tafseerName}\n                  </span>\n                  <span className=\"text-xs text-muted-foreground\">•</span>\n                  <span className=\"text-sm text-muted-foreground\">\n                    {tafseer.language}\n                  </span>\n                </div>\n                <div \n                  className=\"text-base leading-relaxed text-card-foreground prose prose-sm max-w-none\"\n                  data-testid=\"text-tafseer-content\"\n                  dangerouslySetInnerHTML={{ __html: tafseer.text }}\n                />\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n                <MessageSquare className=\"w-12 h-12 text-muted-foreground/50 mb-3\" />\n                <p className=\"text-sm text-muted-foreground\">\n                  Select a verse to view its Tafseer\n                </p>\n              </div>\n            )}\n          </ScrollArea>\n        </Card>\n      </div>\n    </>\n  );\n}\n","size_bytes":3424},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/AudioPlayer.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Play, Pause, SkipBack, SkipForward, Volume2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { availableReciters, Reciter } from \"@shared/schema\";\n\ninterface AudioPlayerProps {\n  audioUrl: string | null;\n  currentVerse: number;\n  totalVerses: number;\n  onPrevious: () => void;\n  onNext: () => void;\n  onVerseChange: (verse: number) => void;\n  selectedReciter: string;\n  onReciterChange: (reciter: string) => void;\n  isLoading?: boolean;\n  onPlayingChange?: (isPlaying: boolean) => void;\n}\n\nexport function AudioPlayer({\n  audioUrl,\n  currentVerse,\n  totalVerses,\n  onPrevious,\n  onNext,\n  onVerseChange,\n  selectedReciter,\n  onReciterChange,\n  isLoading,\n  onPlayingChange\n}: AudioPlayerProps) {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(1);\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  useEffect(() => {\n    if (audioRef.current && audioUrl) {\n      audioRef.current.src = audioUrl;\n      audioRef.current.load();\n      \n      // Auto-play if we were playing before\n      if (isPlaying) {\n        const playPromise = audioRef.current.play();\n        if (playPromise !== undefined) {\n          playPromise.catch(error => {\n            console.log(\"Auto-play prevented:\", error);\n            setIsPlaying(false);\n            onPlayingChange?.(false);\n          });\n        }\n      }\n    }\n  }, [audioUrl]);\n\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    const handleTimeUpdate = () => setCurrentTime(audio.currentTime);\n    const handleDurationChange = () => setDuration(audio.duration);\n    const handleEnded = () => {\n      // Keep isPlaying true so auto-play continues\n      if (currentVerse < totalVerses) {\n        setTimeout(() => {\n          onNext();\n        }, 300);\n      } else {\n        // Only stop playing if we reached the end\n        setIsPlaying(false);\n        onPlayingChange?.(false);\n      }\n    };\n\n    audio.addEventListener('timeupdate', handleTimeUpdate);\n    audio.addEventListener('durationchange', handleDurationChange);\n    audio.addEventListener('ended', handleEnded);\n\n    return () => {\n      audio.removeEventListener('timeupdate', handleTimeUpdate);\n      audio.removeEventListener('durationchange', handleDurationChange);\n      audio.removeEventListener('ended', handleEnded);\n    };\n  }, [currentVerse, totalVerses, onNext]);\n\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = volume;\n    }\n  }, [volume]);\n\n  const togglePlayPause = () => {\n    if (!audioRef.current || !audioUrl) return;\n\n    if (isPlaying) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n      onPlayingChange?.(false);\n    } else {\n      audioRef.current.play();\n      setIsPlaying(true);\n      onPlayingChange?.(true);\n    }\n  };\n\n  const handleSeek = (value: number[]) => {\n    if (audioRef.current) {\n      audioRef.current.currentTime = value[0];\n      setCurrentTime(value[0]);\n    }\n  };\n\n  const formatTime = (time: number) => {\n    if (isNaN(time)) return \"0:00\";\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const currentReciter = availableReciters.find(r => r.identifier === selectedReciter);\n\n  return (\n    <div className=\"sticky bottom-0 left-0 right-0 bg-card border-t border-card-border z-40\">\n      <audio ref={audioRef} />\n      \n      <div className=\"max-w-4xl mx-auto px-6 py-4\">\n        <div className=\"flex flex-col gap-3\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <span className=\"text-sm font-medium\">\n                  Verse {currentVerse} of {totalVerses}\n                </span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-xs text-muted-foreground\">\n                  {currentReciter?.name || \"Select Reciter\"}\n                </span>\n              </div>\n            </div>\n\n            <Select\n              value={selectedReciter}\n              onValueChange={onReciterChange}\n              disabled={isLoading}\n            >\n              <SelectTrigger className=\"w-[200px] h-9\" data-testid=\"select-reciter\">\n                <SelectValue placeholder=\"Select Reciter\" />\n              </SelectTrigger>\n              <SelectContent>\n                {availableReciters.map((reciter) => (\n                  <SelectItem\n                    key={reciter.identifier}\n                    value={reciter.identifier}\n                    data-testid={`option-reciter-${reciter.identifier}`}\n                  >\n                    <div className=\"flex flex-col\">\n                      <span className=\"font-medium\">{reciter.name}</span>\n                      {reciter.style && (\n                        <span className=\"text-xs text-muted-foreground\">{reciter.style}</span>\n                      )}\n                    </div>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-xs text-muted-foreground w-10 text-right\">\n              {formatTime(currentTime)}\n            </span>\n            \n            <Slider\n              value={[currentTime]}\n              max={duration || 100}\n              step={0.1}\n              onValueChange={handleSeek}\n              className=\"flex-1\"\n              disabled={!audioUrl}\n              data-testid=\"slider-audio-progress\"\n            />\n            \n            <span className=\"text-xs text-muted-foreground w-10\">\n              {formatTime(duration)}\n            </span>\n          </div>\n\n          <div className=\"flex items-center justify-center gap-2\">\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              onClick={onPrevious}\n              disabled={currentVerse <= 1 || isLoading}\n              data-testid=\"button-previous-verse\"\n              aria-label=\"Previous verse\"\n            >\n              <SkipBack className=\"w-5 h-5\" />\n            </Button>\n\n            <Button\n              size=\"icon\"\n              variant=\"default\"\n              onClick={togglePlayPause}\n              disabled={!audioUrl || isLoading}\n              className=\"h-12 w-12\"\n              data-testid=\"button-play-pause\"\n              aria-label={isPlaying ? \"Pause\" : \"Play\"}\n            >\n              {isPlaying ? (\n                <Pause className=\"w-6 h-6\" />\n              ) : (\n                <Play className=\"w-6 h-6 ml-0.5\" />\n              )}\n            </Button>\n\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              onClick={onNext}\n              disabled={currentVerse >= totalVerses || isLoading}\n              data-testid=\"button-next-verse\"\n              aria-label=\"Next verse\"\n            >\n              <SkipForward className=\"w-5 h-5\" />\n            </Button>\n\n            <div className=\"flex items-center gap-2 ml-4\">\n              <Volume2 className=\"w-4 h-4 text-muted-foreground\" />\n              <Slider\n                value={[volume * 100]}\n                max={100}\n                step={1}\n                onValueChange={(value) => setVolume(value[0] / 100)}\n                className=\"w-24\"\n                data-testid=\"slider-volume\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7876},"shared/schema.ts":{"content":"import { z } from \"zod\";\nimport { pgTable, serial, varchar, integer, timestamp, index, uniqueIndex } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\n\n// Surah (Chapter) Schema\nexport const surahSchema = z.object({\n  number: z.number(),\n  name: z.string(),\n  englishName: z.string(),\n  englishNameTranslation: z.string(),\n  numberOfAyahs: z.number(),\n  revelationType: z.enum(['Meccan', 'Medinan']),\n});\n\nexport type Surah = z.infer<typeof surahSchema>;\n\n// Ayah (Verse) Schema\nexport const ayahSchema = z.object({\n  number: z.number(),\n  numberInSurah: z.number(),\n  text: z.string(),\n  audio: z.string().optional(),\n  surah: z.object({\n    number: z.number(),\n    name: z.string(),\n    englishName: z.string(),\n  }).optional(),\n});\n\nexport type Ayah = z.infer<typeof ayahSchema>;\n\n// Translation Schema\nexport const translationSchema = z.object({\n  text: z.string(),\n  language: z.string(),\n  translator: z.string().optional(),\n});\n\nexport type Translation = z.infer<typeof translationSchema>;\n\n// Verse with Translations Schema\nexport const verseWithTranslationsSchema = z.object({\n  ayah: ayahSchema,\n  urduTranslation: translationSchema.optional(),\n  englishTranslation: translationSchema.optional(),\n});\n\nexport type VerseWithTranslations = z.infer<typeof verseWithTranslationsSchema>;\n\n// Tafseer (Commentary) Schema\nexport const tafseerSchema = z.object({\n  ayahNumber: z.number(),\n  text: z.string(),\n  tafseerName: z.string(),\n  language: z.string(),\n});\n\nexport type Tafseer = z.infer<typeof tafseerSchema>;\n\n// Reciter Schema\nexport const reciterSchema = z.object({\n  identifier: z.string(),\n  name: z.string(),\n  style: z.string().optional(),\n});\n\nexport type Reciter = z.infer<typeof reciterSchema>;\n\n// Hadith Collection Schema\nexport const hadithCollectionSchema = z.object({\n  name: z.string(),\n  englishName: z.string(),\n  numberOfHadiths: z.number(),\n});\n\nexport type HadithCollection = z.infer<typeof hadithCollectionSchema>;\n\n// Hadith Schema\nexport const hadithSchema = z.object({\n  collection: z.string(),\n  bookNumber: z.string().optional(),\n  hadithNumber: z.string(),\n  arabicText: z.string(),\n  englishText: z.string(),\n  urduText: z.string().optional(),\n  narrator: z.string().optional(),\n  grade: z.string().optional(),\n  reference: z.string(),\n});\n\nexport type Hadith = z.infer<typeof hadithSchema>;\n\n// API Response schemas for external APIs\nexport const quranApiResponseSchema = z.object({\n  code: z.number(),\n  status: z.string(),\n  data: z.any(),\n});\n\nexport type QuranApiResponse = z.infer<typeof quranApiResponseSchema>;\n\n// Reading state (for UI)\nexport const readingStateSchema = z.object({\n  currentSurah: z.number(),\n  currentAyah: z.number(),\n  isPlaying: z.boolean(),\n  selectedReciter: z.string(),\n});\n\nexport type ReadingState = z.infer<typeof readingStateSchema>;\n\n// Available reciters with their identifiers for AlQuran Cloud API\nexport const availableReciters: Reciter[] = [\n  { identifier: \"ar.alafasy\", name: \"Mishary Rashid Alafasy\", style: \"Hafs\" },\n  { identifier: \"ar.abdulbasitmurattal\", name: \"Abdul Basit (Murattal)\", style: \"Hafs\" },\n  { identifier: \"ar.minshawi\", name: \"Mohamed Siddiq al-Minshawi (Murattal)\", style: \"Hafs\" },\n  { identifier: \"ar.husary\", name: \"Mahmoud Khalil Al-Hussary\", style: \"Hafs\" },\n  { identifier: \"ar.shaatree\", name: \"Abu Bakr al-Shatri\", style: \"Hafs\" },\n];\n\n// Translation identifiers for AlQuran Cloud API\nexport const translationIdentifiers = {\n  urdu: \"ur.jalandhry\", // Fateh Muhammad Jalandhry\n  english: \"en.sahih\", // Sahih International\n};\n\n// ============================================================================\n// Database Tables (Drizzle ORM)\n// ============================================================================\n\n// Users table (for tracking anonymous and authenticated users)\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  sessionId: varchar(\"session_id\", { length: 255 }).notNull().unique(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).omit({ id: true, createdAt: true });\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\n// Bookmarks table\nexport const bookmarks = pgTable(\"bookmarks\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id).notNull(),\n  surahNumber: integer(\"surah_number\").notNull(),\n  ayahNumber: integer(\"ayah_number\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n}, (table) => ({\n  userIdIdx: index(\"bookmarks_user_id_idx\").on(table.userId),\n  userSurahAyahUnique: uniqueIndex(\"bookmarks_user_surah_ayah_unique\").on(table.userId, table.surahNumber, table.ayahNumber),\n}));\n\nexport const insertBookmarkSchema = createInsertSchema(bookmarks).omit({ id: true, createdAt: true });\nexport type InsertBookmark = z.infer<typeof insertBookmarkSchema>;\nexport type Bookmark = typeof bookmarks.$inferSelect;\n\n// Reading position table (one per user)\nexport const readingPosition = pgTable(\"reading_position\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id).notNull().unique(),\n  surahNumber: integer(\"surah_number\").notNull(),\n  ayahNumber: integer(\"ayah_number\").notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n}, (table) => ({\n  userIdIdx: index(\"reading_position_user_id_idx\").on(table.userId),\n}));\n\nexport const insertReadingPositionSchema = createInsertSchema(readingPosition).omit({ id: true, updatedAt: true });\nexport type InsertReadingPosition = z.infer<typeof insertReadingPositionSchema>;\nexport type ReadingPosition = typeof readingPosition.$inferSelect;\n\n// User preferences table\nexport const userPreferences = pgTable(\"user_preferences\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id).notNull().unique(),\n  reciterIdentifier: varchar(\"reciter_identifier\", { length: 100 }).default(\"ar.alafasy\").notNull(),\n  theme: varchar(\"theme\", { length: 20 }).default(\"light\").notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n}, (table) => ({\n  userIdIdx: index(\"user_preferences_user_id_idx\").on(table.userId),\n}));\n\nexport const insertUserPreferencesSchema = createInsertSchema(userPreferences).omit({ id: true, updatedAt: true });\nexport type InsertUserPreferences = z.infer<typeof insertUserPreferencesSchema>;\nexport type UserPreferences = typeof userPreferences.$inferSelect;\n","size_bytes":6511},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/pages/QuranReader.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Loader2, BookOpen, Moon, Sun, Book, GraduationCap } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport { SurahSelector } from \"@/components/SurahSelector\";\nimport { VerseDisplay } from \"@/components/VerseDisplay\";\nimport { AudioPlayer } from \"@/components/AudioPlayer\";\nimport { TafseerPanel } from \"@/components/TafseerPanel\";\nimport { Button } from \"@/components/ui/button\";\nimport { Surah, VerseWithTranslations, Tafseer, availableReciters } from \"@shared/schema\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport default function QuranReader() {\n  const [selectedSurah, setSelectedSurah] = useState(1);\n  const [currentVerse, setCurrentVerse] = useState(1);\n  const [selectedReciter, setSelectedReciter] = useState(availableReciters[0].identifier);\n  const [isTafseerOpen, setIsTafseerOpen] = useState(false);\n  const [selectedVerseForTafseer, setSelectedVerseForTafseer] = useState<number | null>(null);\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [isAudioPlaying, setIsAudioPlaying] = useState(false);\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n      document.documentElement.classList.toggle('dark', savedTheme === 'dark');\n    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      setTheme('dark');\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  const { data: surahs, isLoading: isSurahsLoading } = useQuery<Surah[]>({\n    queryKey: ['/api/surahs'],\n  });\n\n  const { data: verses, isLoading: isVersesLoading } = useQuery<VerseWithTranslations[]>({\n    queryKey: ['/api/surah', selectedSurah, selectedReciter],\n    enabled: selectedSurah > 0,\n  });\n\n  const { data: tafseer, isLoading: isTafseerLoading } = useQuery<Tafseer>({\n    queryKey: ['/api/tafseer', selectedSurah, selectedVerseForTafseer],\n    enabled: selectedVerseForTafseer !== null && isTafseerOpen,\n  });\n\n  const currentSurah = surahs?.find(s => s.number === selectedSurah);\n  const currentVerseData = verses?.[currentVerse - 1];\n  const audioUrl = currentVerseData?.ayah?.audio || null;\n\n  const handleSurahChange = (surahNumber: number) => {\n    setSelectedSurah(surahNumber);\n    setCurrentVerse(1);\n    setSelectedVerseForTafseer(null);\n  };\n\n  const handlePreviousVerse = () => {\n    if (currentVerse > 1) {\n      setCurrentVerse(currentVerse - 1);\n    }\n  };\n\n  const handleNextVerse = () => {\n    if (verses && currentVerse < verses.length) {\n      const nextVerse = currentVerse + 1;\n      setCurrentVerse(nextVerse);\n      // Auto-play will be handled by AudioPlayer useEffect when audioUrl changes\n    }\n  };\n\n  const handleVerseClick = (verseNumber: number) => {\n    const verseIndex = verses?.findIndex(v => v.ayah.number === verseNumber);\n    if (verses && verseIndex !== undefined && verseIndex >= 0) {\n      setSelectedVerseForTafseer(verses[verseIndex].ayah.numberInSurah);\n      setIsTafseerOpen(true);\n    }\n  };\n\n  if (isSurahsLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <Loader2 className=\"w-12 h-12 animate-spin text-primary\" />\n          <p className=\"text-muted-foreground\">Loading Quran...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pb-32\">\n      <header className=\"sticky top-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border\">\n        <div className=\"max-w-4xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between gap-4 mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10\">\n                <BookOpen className=\"w-5 h-5 text-primary\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl font-semibold\">Al-Quran Al-Kareem</h1>\n                <p className=\"text-sm text-muted-foreground\">The Noble Quran</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Link href=\"/kids\">\n                <Button\n                  variant=\"outline\"\n                  size=\"default\"\n                  data-testid=\"button-nav-kids\"\n                  className=\"gap-2\"\n                >\n                  <GraduationCap className=\"w-4 h-4\" />\n                  <span className=\"hidden md:inline\">Kids Learning</span>\n                  <span className=\"md:hidden\">Kids</span>\n                </Button>\n              </Link>\n              <Link href=\"/hadith\">\n                <Button\n                  variant=\"outline\"\n                  size=\"default\"\n                  data-testid=\"button-nav-hadith\"\n                  className=\"gap-2\"\n                >\n                  <Book className=\"w-4 h-4\" />\n                  <span className=\"hidden md:inline\">Browse Hadith</span>\n                  <span className=\"md:hidden\">Hadith</span>\n                </Button>\n              </Link>\n              <Button\n                size=\"icon\"\n                variant=\"ghost\"\n                onClick={toggleTheme}\n                data-testid=\"button-theme-toggle\"\n                aria-label=\"Toggle theme\"\n              >\n                {theme === 'dark' ? (\n                  <Sun className=\"w-5 h-5\" />\n                ) : (\n                  <Moon className=\"w-5 h-5\" />\n                )}\n              </Button>\n            </div>\n          </div>\n          \n          {surahs && (\n            <SurahSelector\n              surahs={surahs}\n              selectedSurah={selectedSurah}\n              onSurahChange={handleSurahChange}\n              isLoading={isVersesLoading}\n            />\n          )}\n        </div>\n      </header>\n\n      <main className=\"max-w-4xl mx-auto px-6 sm:px-12 py-8 sm:py-12\">\n        {currentSurah && (\n          <div className=\"mb-8 text-center\">\n            <h2 className=\"font-arabic text-4xl mb-2\" data-testid=\"text-surah-name-arabic\">\n              {currentSurah.name}\n            </h2>\n            <p className=\"text-xl font-semibold mb-1\" data-testid=\"text-surah-name-english\">\n              {currentSurah.englishName}\n            </p>\n            <p className=\"text-sm text-muted-foreground\">\n              {currentSurah.englishNameTranslation} • {currentSurah.numberOfAyahs} Verses • {currentSurah.revelationType}\n            </p>\n          </div>\n        )}\n\n        {isVersesLoading ? (\n          <div className=\"space-y-6\">\n            {Array.from({ length: 5 }).map((_, i) => (\n              <div key={i} className=\"p-6 rounded-lg border border-border\">\n                <Skeleton className=\"h-6 w-12 mb-4\" />\n                <Skeleton className=\"h-20 w-full mb-4\" />\n                <Skeleton className=\"h-16 w-full mb-3\" />\n                <Skeleton className=\"h-16 w-full\" />\n              </div>\n            ))}\n          </div>\n        ) : verses && verses.length > 0 ? (\n          <div data-testid=\"container-verses\">\n            {verses.map((verse) => (\n              <VerseDisplay\n                key={verse.ayah.number}\n                verse={verse}\n                isHighlighted={verse.ayah.numberInSurah === currentVerse}\n                onVerseClick={handleVerseClick}\n              />\n            ))}\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n            <BookOpen className=\"w-16 h-16 text-muted-foreground/50 mb-4\" />\n            <p className=\"text-lg font-medium mb-2\">No verses found</p>\n            <p className=\"text-sm text-muted-foreground\">\n              Please select a surah to start reading\n            </p>\n          </div>\n        )}\n      </main>\n\n      {verses && verses.length > 0 && (\n        <AudioPlayer\n          audioUrl={audioUrl}\n          currentVerse={currentVerse}\n          totalVerses={verses.length}\n          onPrevious={handlePreviousVerse}\n          onNext={handleNextVerse}\n          onVerseChange={setCurrentVerse}\n          selectedReciter={selectedReciter}\n          onReciterChange={setSelectedReciter}\n          isLoading={isVersesLoading}\n          onPlayingChange={setIsAudioPlaying}\n        />\n      )}\n\n      <TafseerPanel\n        tafseer={tafseer || null}\n        isOpen={isTafseerOpen}\n        onToggle={() => setIsTafseerOpen(!isTafseerOpen)}\n        isLoading={isTafseerLoading}\n        verseNumber={selectedVerseForTafseer || undefined}\n      />\n    </div>\n  );\n}\n","size_bytes":8946},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/pages/HadithBrowser.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Search, Book, BookOpen, Loader2, GraduationCap } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { HadithCard } from \"@/components/HadithCard\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Hadith, HadithCollection } from \"@shared/schema\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\ninterface HadithApiResponse {\n  collection: string;\n  hadiths: Hadith[];\n  page: number;\n  pageSize: number;\n  hasMore: boolean;\n}\n\nexport default function HadithBrowser() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCollection, setSelectedCollection] = useState(\"bukhari\");\n  const [page, setPage] = useState(1);\n  const [accumulatedHadiths, setAccumulatedHadiths] = useState<Hadith[]>([]);\n\n  // Construct query parameters\n  const queryParams = new URLSearchParams();\n  queryParams.set('page', page.toString());\n  if (searchQuery) {\n    queryParams.set('search', searchQuery);\n  }\n  \n  const apiUrl = `/api/hadiths/${selectedCollection}?${queryParams.toString()}`;\n  \n  const { data, isLoading, isFetching } = useQuery<HadithApiResponse>({\n    queryKey: [apiUrl],\n    enabled: selectedCollection !== \"\",\n  });\n\n  // Accumulate hadiths when new data arrives\n  useEffect(() => {\n    if (data?.hadiths) {\n      if (page === 1) {\n        // Reset accumulated hadiths for first page or new collection\n        setAccumulatedHadiths(data.hadiths);\n      } else {\n        // Append new hadiths for subsequent pages\n        setAccumulatedHadiths(prev => [...prev, ...data.hadiths]);\n      }\n    }\n  }, [data, page]);\n\n  const collections: HadithCollection[] = [\n    { name: \"bukhari\", englishName: \"Sahih al-Bukhari\", numberOfHadiths: 7563 },\n    { name: \"muslim\", englishName: \"Sahih Muslim\", numberOfHadiths: 7190 },\n    { name: \"abudawud\", englishName: \"Sunan Abu Dawud\", numberOfHadiths: 5274 },\n    { name: \"tirmidhi\", englishName: \"Jami' At-Tirmidhi\", numberOfHadiths: 3956 },\n    { name: \"ibnmajah\", englishName: \"Sunan Ibn Majah\", numberOfHadiths: 4341 },\n    { name: \"nasai\", englishName: \"Sunan an-Nasa'i\", numberOfHadiths: 5758 },\n    { name: \"malik\", englishName: \"Muwatta Malik\", numberOfHadiths: 1826 },\n  ];\n\n  const handleLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  const handleCollectionChange = (value: string) => {\n    setSelectedCollection(value);\n    setPage(1); // Reset page when changing collection\n    setAccumulatedHadiths([]); // Clear accumulated hadiths\n  };\n\n  const handleSearchChange = (value: string) => {\n    setSearchQuery(value);\n    setPage(1); // Reset page when searching\n    setAccumulatedHadiths([]); // Clear accumulated hadiths for search\n  };\n\n  const hadiths = accumulatedHadiths;\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"sticky top-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border\">\n        <div className=\"max-w-6xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between gap-4 mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10\">\n                <Book className=\"w-5 h-5 text-primary\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl font-semibold\">Hadith Collection</h1>\n                <p className=\"text-sm text-muted-foreground\">Authentic Traditions of Prophet Muhammad ﷺ</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Link href=\"/kids\">\n                <Button\n                  variant=\"outline\"\n                  size=\"default\"\n                  data-testid=\"button-nav-kids\"\n                  className=\"gap-2\"\n                >\n                  <GraduationCap className=\"w-4 h-4\" />\n                  <span className=\"hidden md:inline\">Kids Learning</span>\n                  <span className=\"md:hidden\">Kids</span>\n                </Button>\n              </Link>\n              <Link href=\"/\">\n                <Button\n                  variant=\"outline\"\n                  size=\"default\"\n                  data-testid=\"button-back-to-quran\"\n                  className=\"gap-2\"\n                >\n                  <BookOpen className=\"w-4 h-4\" />\n                  <span className=\"hidden md:inline\">Read Quran</span>\n                  <span className=\"md:hidden\">Quran</span>\n                </Button>\n              </Link>\n            </div>\n          </div>\n\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search hadiths...\"\n              value={searchQuery}\n              onChange={(e) => handleSearchChange(e.target.value)}\n              className=\"pl-10 h-12\"\n              data-testid=\"input-search-hadith\"\n            />\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-6xl mx-auto px-6 py-8\">\n        <Tabs value={selectedCollection} onValueChange={handleCollectionChange}>\n          <TabsList className=\"mb-6 flex-wrap h-auto gap-2\">\n            {collections.map((collection) => (\n              <TabsTrigger\n                key={collection.name}\n                value={collection.name}\n                data-testid={`tab-collection-${collection.name}`}\n                className=\"text-xs sm:text-sm\"\n              >\n                {collection.englishName}\n              </TabsTrigger>\n            ))}\n          </TabsList>\n\n          {collections.map((collection) => (\n            <TabsContent key={collection.name} value={collection.name}>\n              {isLoading ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  {Array.from({ length: 4 }).map((_, i) => (\n                    <div key={i} className=\"p-6 rounded-lg border border-border\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <Skeleton className=\"h-6 w-32\" />\n                        <Skeleton className=\"h-6 w-16\" />\n                      </div>\n                      <Skeleton className=\"h-20 w-full mb-4\" />\n                      <Skeleton className=\"h-16 w-full mb-3\" />\n                      <Skeleton className=\"h-16 w-full\" />\n                    </div>\n                  ))}\n                </div>\n              ) : hadiths && hadiths.length > 0 ? (\n                <>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\" data-testid=\"container-hadiths\">\n                    {hadiths.map((hadith, index) => (\n                      <HadithCard key={`${hadith.collection}-${hadith.hadithNumber}-${index}`} hadith={hadith} />\n                    ))}\n                  </div>\n                  {data?.hasMore && (\n                    <div className=\"flex justify-center\">\n                      <Button\n                        onClick={handleLoadMore}\n                        disabled={isFetching}\n                        data-testid=\"button-load-more-hadiths\"\n                        variant=\"outline\"\n                        size=\"lg\"\n                      >\n                        {isFetching ? (\n                          <>\n                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                            Loading...\n                          </>\n                        ) : (\n                          \"Load More Hadiths\"\n                        )}\n                      </Button>\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n                  {searchQuery ? (\n                    <>\n                      <Search className=\"w-16 h-16 text-muted-foreground/50 mb-4\" />\n                      <p className=\"text-lg font-medium mb-2\">No hadiths found</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Try adjusting your search query\n                      </p>\n                    </>\n                  ) : (\n                    <>\n                      <Book className=\"w-16 h-16 text-muted-foreground/50 mb-4\" />\n                      <p className=\"text-lg font-medium mb-2\">\n                        {collection.englishName}\n                      </p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {collection.numberOfHadiths} authentic hadiths\n                      </p>\n                    </>\n                  )}\n                </div>\n              )}\n            </TabsContent>\n          ))}\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n","size_bytes":8949},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2210},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 98%;\n\n  --foreground: 0 0% 12%;\n\n  --border: 0 0% 88%;\n\n  --card: 0 0% 96%;\n\n  --card-foreground: 0 0% 12%;\n\n  --card-border: 0 0% 91%;\n\n  --sidebar: 0 0% 94%;\n\n  --sidebar-foreground: 0 0% 12%;\n\n  --sidebar-border: 0 0% 87%;\n\n  --sidebar-primary: 158 64% 28%;\n\n  --sidebar-primary-foreground: 158 64% 97%;\n\n  --sidebar-accent: 0 0% 89%;\n\n  --sidebar-accent-foreground: 0 0% 12%;\n\n  --sidebar-ring: 158 50% 45%;\n\n  --popover: 0 0% 92%;\n\n  --popover-foreground: 0 0% 12%;\n\n  --popover-border: 0 0% 86%;\n\n  --primary: 158 64% 28%;\n\n  --primary-foreground: 158 64% 97%;\n\n  --secondary: 0 0% 88%;\n\n  --secondary-foreground: 0 0% 12%;\n\n  --muted: 158 6% 86%;\n\n  --muted-foreground: 158 6% 28%;\n\n  --accent: 158 8% 84%;\n\n  --accent-foreground: 158 8% 18%;\n\n  --destructive: 0 72% 32%;\n\n  --destructive-foreground: 0 72% 97%;\n\n  --input: 0 0% 78%;\n  --ring: 158 50% 45%;\n  --chart-1: 158 64% 28%;\n  --chart-2: 190 68% 32%;\n  --chart-3: 42 86% 38%;\n  --chart-4: 16 78% 42%;\n  --chart-5: 280 58% 35%;\n\n  --font-sans: 'Inter', 'Noto Sans', sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: Menlo, monospace;\n  --font-arabic: 'Amiri Quran', 'Scheherazade New', serif;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.02);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.03);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.04), 0px 1px 2px -1px hsl(0 0% 0% / 0.06);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.05), 0px 1px 2px -1px hsl(0 0% 0% / 0.08);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.06), 0px 2px 4px -1px hsl(0 0% 0% / 0.10);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.08), 0px 4px 6px -1px hsl(0 0% 0% / 0.12);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.10), 0px 8px 10px -1px hsl(0 0% 0% / 0.15);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.12);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 0 0% 8%;\n\n  --foreground: 0 0% 95%;\n\n  --border: 0 0% 18%;\n\n  --card: 0 0% 10%;\n\n  --card-foreground: 0 0% 95%;\n\n  --card-border: 0 0% 16%;\n\n  --sidebar: 0 0% 12%;\n\n  --sidebar-foreground: 0 0% 95%;\n\n  --sidebar-border: 0 0% 20%;\n\n  --sidebar-primary: 158 58% 32%;\n\n  --sidebar-primary-foreground: 158 58% 96%;\n\n  --sidebar-accent: 0 0% 17%;\n\n  --sidebar-accent-foreground: 0 0% 95%;\n\n  --sidebar-ring: 158 50% 50%;\n\n  --popover: 0 0% 14%;\n\n  --popover-foreground: 0 0% 95%;\n\n  --popover-border: 0 0% 22%;\n\n  --primary: 158 58% 32%;\n\n  --primary-foreground: 158 58% 96%;\n\n  --secondary: 0 0% 18%;\n\n  --secondary-foreground: 0 0% 95%;\n\n  --muted: 158 5% 20%;\n\n  --muted-foreground: 158 5% 75%;\n\n  --accent: 158 6% 22%;\n\n  --accent-foreground: 158 6% 90%;\n\n  --destructive: 0 68% 28%;\n\n  --destructive-foreground: 0 68% 96%;\n\n  --input: 0 0% 28%;\n  --ring: 158 50% 50%;\n  --chart-1: 158 60% 72%;\n  --chart-2: 190 65% 68%;\n  --chart-3: 42 88% 65%;\n  --chart-4: 16 82% 70%;\n  --chart-5: 280 62% 72%;\n\n  --shadow-2xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.15);\n  --shadow-xs: 0px 2px 0px 0px hsl(0 0% 0% / 0.20);\n  --shadow-sm: 0px 2px 0px 0px hsl(0 0% 0% / 0.25), 0px 1px 2px -1px hsl(0 0% 0% / 0.30);\n  --shadow: 0px 2px 0px 0px hsl(0 0% 0% / 0.30), 0px 1px 2px -1px hsl(0 0% 0% / 0.35);\n  --shadow-md: 0px 2px 0px 0px hsl(0 0% 0% / 0.35), 0px 2px 4px -1px hsl(0 0% 0% / 0.40);\n  --shadow-lg: 0px 2px 0px 0px hsl(0 0% 0% / 0.40), 0px 4px 6px -1px hsl(0 0% 0% / 0.45);\n  --shadow-xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.45), 0px 8px 10px -1px hsl(0 0% 0% / 0.50);\n  --shadow-2xl: 0px 2px 0px 0px hsl(0 0% 0% / 0.50);\n\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":9726},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/App.tsx":{"content":"import { Switch, Route, Link } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { Button } from \"@/components/ui/button\";\nimport { Book } from \"lucide-react\";\nimport QuranReader from \"@/pages/QuranReader\";\nimport HadithBrowser from \"@/pages/HadithBrowser\";\nimport KidsLearning from \"@/pages/KidsLearning\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={QuranReader} />\n      <Route path=\"/hadith\" component={HadithBrowser} />\n      <Route path=\"/kids\" component={KidsLearning} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Router />\n        <Toaster />\n        \n        <Link href=\"/hadith\">\n          <Button\n            size=\"icon\"\n            variant=\"default\"\n            className=\"fixed bottom-36 left-6 h-14 w-14 rounded-full shadow-lg z-30\"\n            data-testid=\"button-navigate-hadith\"\n            aria-label=\"Browse Hadiths\"\n          >\n            <Book className=\"w-6 h-6\" />\n          </Button>\n        </Link>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":1397},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/pages/KidsLearning.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { BookOpen, Play, Pause, RotateCcw, Volume2, Loader2 } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { VerseWithTranslations } from \"@shared/schema\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { QaidahSection } from \"@/components/QaidahSection\";\n\ninterface LearningSection {\n  id: string;\n  name: string;\n  arabicName: string;\n  description: string;\n  surahs: number[]; // Surah numbers to fetch\n}\n\nconst learningSections: LearningSection[] = [\n  {\n    id: \"juz-amma\",\n    name: \"Juz Amma\",\n    arabicName: \"جزء عمّ\",\n    description: \"The 30th Part of the Quran - Perfect for beginners\",\n    surahs: [78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114],\n  },\n  {\n    id: \"yasin\",\n    name: \"Surah Yasin\",\n    arabicName: \"سورة يس\",\n    description: \"The Heart of the Quran\",\n    surahs: [36],\n  },\n  {\n    id: \"mulk\",\n    name: \"Surah Al-Mulk\",\n    arabicName: \"سورة الملك\",\n    description: \"Protection from the Punishment of the Grave\",\n    surahs: [67],\n  },\n  {\n    id: \"waqiah\",\n    name: \"Surah Al-Waqiah\",\n    arabicName: \"سورة الواقعة\",\n    description: \"The Inevitable Event\",\n    surahs: [56],\n  },\n];\n\nconst reciters = [\n  { id: \"ar.minshawi\", name: \"Mohamed Siddiq al-Minshawi (Murattal)\", shortName: \"Minshawi\" },\n  { id: \"ar.hudhaify\", name: \"Ali Bin Abdur-Rahman Al-Hudhaify\", shortName: \"Hudhaify\" },\n];\n\nexport default function KidsLearning() {\n  const [selectedSection, setSelectedSection] = useState<string>(\"juz-amma\");\n  const [selectedReciter, setSelectedReciter] = useState(reciters[0].id);\n  const [currentSurahIndex, setCurrentSurahIndex] = useState(0);\n  const [currentVerseIndex, setCurrentVerseIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isRepeating, setIsRepeating] = useState(false);\n  const [volume, setVolume] = useState([80]);\n  const [mainTab, setMainTab] = useState<string>(\"quran\");\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  const currentSection = learningSections.find(s => s.id === selectedSection);\n  const currentSurahNumber = currentSection?.surahs[currentSurahIndex];\n\n  const { data: verses, isLoading } = useQuery<VerseWithTranslations[]>({\n    queryKey: ['/api/surah', currentSurahNumber, selectedReciter],\n    enabled: !!currentSurahNumber && mainTab === \"quran\",\n  });\n\n  const currentVerse = verses?.[currentVerseIndex];\n  const audioUrl = currentVerse?.ayah?.audio;\n\n  // Handle audio events\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    const handleEnded = () => {\n      if (isRepeating) {\n        // Replay the same verse\n        audio.currentTime = 0;\n        audio.play();\n      } else if (verses && currentVerseIndex < verses.length - 1) {\n        // Move to next verse\n        setCurrentVerseIndex(prev => prev + 1);\n      } else if (currentSection && currentSurahIndex < currentSection.surahs.length - 1) {\n        // Move to next surah\n        setCurrentSurahIndex(prev => prev + 1);\n        setCurrentVerseIndex(0);\n      } else {\n        // Finished all\n        setIsPlaying(false);\n      }\n    };\n\n    audio.addEventListener('ended', handleEnded);\n    return () => audio.removeEventListener('ended', handleEnded);\n  }, [isRepeating, currentVerseIndex, currentSurahIndex, currentSection, verses]);\n\n  // Update audio source\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (audio && audioUrl) {\n      audio.src = audioUrl;\n      if (isPlaying) {\n        audio.play().catch(() => setIsPlaying(false));\n      }\n    }\n  }, [audioUrl, isPlaying]);\n\n  // Update volume\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (audio) {\n      audio.volume = volume[0] / 100;\n    }\n  }, [volume]);\n\n  const handlePlayPause = () => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    if (isPlaying) {\n      audio.pause();\n      setIsPlaying(false);\n    } else {\n      audio.play().then(() => setIsPlaying(true)).catch(() => setIsPlaying(false));\n    }\n  };\n\n  const handleStop = () => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    \n    audio.pause();\n    audio.currentTime = 0;\n    setIsPlaying(false);\n  };\n\n  const handleRepeatToggle = () => {\n    setIsRepeating(!isRepeating);\n  };\n\n  const handlePreviousVerse = () => {\n    if (currentVerseIndex > 0) {\n      setCurrentVerseIndex(prev => prev - 1);\n    } else if (currentSurahIndex > 0) {\n      setCurrentSurahIndex(prev => prev - 1);\n      setCurrentVerseIndex(0);\n    }\n  };\n\n  const handleNextVerse = () => {\n    if (verses && currentVerseIndex < verses.length - 1) {\n      setCurrentVerseIndex(prev => prev + 1);\n    } else if (currentSection && currentSurahIndex < currentSection.surahs.length - 1) {\n      setCurrentSurahIndex(prev => prev + 1);\n      setCurrentVerseIndex(0);\n    }\n  };\n\n  const handleSectionChange = (sectionId: string) => {\n    setSelectedSection(sectionId);\n    setCurrentSurahIndex(0);\n    setCurrentVerseIndex(0);\n    handleStop();\n  };\n\n  const handleVerseSelect = (verseNumber: string) => {\n    const verseIndex = parseInt(verseNumber) - 1;\n    if (verseIndex >= 0 && verses && verseIndex < verses.length) {\n      setCurrentVerseIndex(verseIndex);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <audio ref={audioRef} preload=\"auto\" />\n      \n      <header className=\"sticky top-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border\">\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 py-3 sm:py-4\">\n          <div className=\"flex items-center justify-between gap-4 mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10\">\n                <BookOpen className=\"w-5 h-5 text-primary\" />\n              </div>\n              <div>\n                <h1 className=\"text-lg sm:text-xl font-semibold\">Learn Quran for Kids</h1>\n                <p className=\"text-xs sm:text-sm text-muted-foreground hidden sm:block\">Listen, Learn, and Repeat</p>\n              </div>\n            </div>\n            <Link href=\"/\">\n              <Button variant=\"outline\" size=\"default\" data-testid=\"button-back-home\">\n                <BookOpen className=\"w-4 h-4 mr-2\" />\n                <span className=\"hidden sm:inline\">Back to Quran</span>\n                <span className=\"sm:hidden\">Quran</span>\n              </Button>\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-6xl mx-auto px-4 sm:px-6 py-6 sm:py-8\">\n        <Tabs value={mainTab} onValueChange={setMainTab} className=\"mb-8\">\n          <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n            <TabsTrigger value=\"quran\" data-testid=\"tab-main-quran\">\n              Quran Recitation\n            </TabsTrigger>\n            <TabsTrigger value=\"qaidah\" data-testid=\"tab-main-qaidah\">\n              Qaidah & Arabic\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"quran\">\n            <Tabs value={selectedSection} onValueChange={handleSectionChange} className=\"mb-8\">\n              <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-4 mb-6\">\n                {learningSections.map(section => (\n                  <TabsTrigger key={section.id} value={section.id} data-testid={`tab-${section.id}`}>\n                    {section.name}\n                  </TabsTrigger>\n                ))}\n              </TabsList>\n\n          {learningSections.map(section => (\n            <TabsContent key={section.id} value={section.id}>\n              <Card className=\"mb-6\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center justify-between\">\n                    <span>{section.name}</span>\n                    <span className=\"font-arabic text-2xl\">{section.arabicName}</span>\n                  </CardTitle>\n                  <CardDescription>{section.description}</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium mb-2 block\">Select Reciter</label>\n                      <Select value={selectedReciter} onValueChange={setSelectedReciter}>\n                        <SelectTrigger data-testid=\"select-reciter\">\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {reciters.map(reciter => (\n                            <SelectItem key={reciter.id} value={reciter.id}>\n                              {reciter.name}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    {verses && verses.length > 0 && (\n                      <div>\n                        <label className=\"text-sm font-medium mb-2 block\">Jump to Verse</label>\n                        <Select \n                          value={(currentVerseIndex + 1).toString()} \n                          onValueChange={handleVerseSelect}\n                        >\n                          <SelectTrigger data-testid=\"select-verse\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {verses.map((verse, index) => (\n                              <SelectItem key={index} value={(index + 1).toString()}>\n                                Verse {verse.ayah.numberInSurah}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n          ))}\n          </Tabs>\n\n          {isLoading ? (\n          <div className=\"space-y-4\">\n            <Skeleton className=\"h-48 w-full\" />\n            <Skeleton className=\"h-24 w-full\" />\n          </div>\n        ) : currentVerse ? (\n          <div className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-sm text-muted-foreground\">\n                  {currentVerse.ayah.surah?.englishName} • Verse {currentVerse.ayah.numberInSurah}\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"text-center font-arabic text-3xl sm:text-4xl leading-loose mb-6 px-2\" dir=\"rtl\">\n                  {currentVerse.ayah.text}\n                </div>\n                \n                <div className=\"space-y-3\">\n                  <div className=\"p-4 bg-muted/50 rounded-lg\">\n                    <p className=\"text-sm font-medium mb-2\">English Translation</p>\n                    <p className=\"text-sm leading-relaxed\">{currentVerse.englishTranslation?.text}</p>\n                  </div>\n                  <div className=\"p-4 bg-muted/50 rounded-lg\">\n                    <p className=\"text-sm font-medium mb-2\">Urdu Translation</p>\n                    <p className=\"text-sm leading-relaxed\" dir=\"rtl\">{currentVerse.urduTranslation?.text}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Volume2 className=\"w-5 h-5\" />\n                  Audio Controls\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4\">\n                  <div className=\"flex items-center gap-3 w-full sm:w-auto justify-center\">\n                    <Button\n                      size=\"default\"\n                      variant=\"outline\"\n                      onClick={handlePreviousVerse}\n                      disabled={currentSurahIndex === 0 && currentVerseIndex === 0}\n                      data-testid=\"button-previous-verse\"\n                      className=\"flex-1 sm:flex-initial\"\n                    >\n                      Previous\n                    </Button>\n                    \n                    <Button\n                      size=\"icon\"\n                      onClick={handlePlayPause}\n                      data-testid=\"button-play-pause\"\n                      className=\"h-12 w-12\"\n                    >\n                      {isPlaying ? <Pause className=\"w-6 h-6\" /> : <Play className=\"w-6 h-6\" />}\n                    </Button>\n                    \n                    <Button\n                      size=\"default\"\n                      variant=\"outline\"\n                      onClick={handleNextVerse}\n                      disabled={currentSection && currentSurahIndex === currentSection.surahs.length - 1 && verses && currentVerseIndex === verses.length - 1}\n                      data-testid=\"button-next-verse\"\n                      className=\"flex-1 sm:flex-initial\"\n                    >\n                      Next\n                    </Button>\n                  </div>\n                  \n                  <div className=\"flex items-center gap-3 w-full sm:w-auto justify-center\">\n                    <Button\n                      size=\"default\"\n                      variant=\"outline\"\n                      onClick={handleStop}\n                      data-testid=\"button-stop\"\n                      className=\"flex-1 sm:flex-initial\"\n                    >\n                      Stop\n                    </Button>\n                    \n                    <Button\n                      size=\"icon\"\n                      variant={isRepeating ? \"default\" : \"outline\"}\n                      onClick={handleRepeatToggle}\n                      data-testid=\"button-repeat\"\n                      aria-pressed={isRepeating}\n                      aria-label={isRepeating ? \"Disable repeat mode\" : \"Enable repeat mode\"}\n                      className=\"h-12 w-12\"\n                    >\n                      <RotateCcw className=\"w-6 h-6\" />\n                    </Button>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm font-medium flex items-center gap-2\">\n                    <Volume2 className=\"w-4 h-4\" />\n                    Volume: {volume[0]}%\n                  </label>\n                  <Slider\n                    value={volume}\n                    onValueChange={setVolume}\n                    max={100}\n                    step={1}\n                    data-testid=\"slider-volume\"\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-center gap-2 text-sm text-muted-foreground\">\n                  {isRepeating && (\n                    <span className=\"inline-flex items-center gap-1 text-primary\">\n                      <RotateCcw className=\"w-3 h-3\" />\n                      Repeat Mode On\n                    </span>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center py-16\">\n            <Loader2 className=\"w-12 h-12 animate-spin text-muted-foreground mb-4\" />\n            <p className=\"text-muted-foreground\">Loading verses...</p>\n          </div>\n        )}\n        </TabsContent>\n\n          <TabsContent value=\"qaidah\">\n            <QaidahSection />\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n","size_bytes":16298}},"version":2}